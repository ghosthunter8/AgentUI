/**
 * AgentUI Spinner Component Styles — MD3 Circular Progress Indicator
 * GPU-only animations: all keyframes use transform: rotate() exclusively.
 * Technique: two-half-circle clipping (same as Angular Material / Material Web).
 * https://m3.material.io/components/progress-indicators
 */

/* ============================================================================
   SPINNER - MD3 Circular Progress Indicator
   ============================================================================ */

.au-spinner {
    display: inline-block;
    position: relative;
}

/* Container layer — continuous 360° rotation */
.au-spinner__layer {
    position: relative;
    width: 100%;
    height: 100%;
    animation: au-spinner-rotate 1568ms linear infinite;
}

/* Each clipper hides half the circle via overflow:hidden */
.au-spinner__clip-left,
.au-spinner__clip-right {
    position: absolute;
    top: 0;
    width: 50%;
    height: 100%;
    overflow: hidden;
}

.au-spinner__clip-left {
    left: 0;
}

.au-spinner__clip-right {
    right: 0;
}

/* The circle element — a full border-radius ring, clipped to half */
.au-spinner__circle {
    box-sizing: border-box;
    position: absolute;
    top: 0;
    width: 200%;
    height: 100%;
    border-style: solid;
    border-color: currentColor currentColor transparent currentColor;
    border-radius: 50%;
}

/* Left circle: anchored on the right edge, rotates clockwise */
.au-spinner__clip-left .au-spinner__circle {
    left: 0;
    border-right-color: transparent;
    animation: au-spinner-left 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* Right circle: anchored on the left edge, rotates to complete the arc */
.au-spinner__clip-right .au-spinner__circle {
    right: 0;
    left: auto;
    border-left-color: transparent;
    animation: au-spinner-right 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* Gap patch — covers the seam between left/right halves */
.au-spinner__gap {
    position: absolute;
    top: 0;
    left: 45%;
    width: 10%;
    height: 100%;
    overflow: hidden;
}

.au-spinner__gap .au-spinner__circle {
    left: -450%;
    width: 1000%;
    border-color: currentColor;
}

/* ============================================================================
   SIZES — dimensions + border-width
   ============================================================================ */

.au-spinner--xs {
    width: 16px;
    height: 16px;
}

.au-spinner--xs .au-spinner__circle {
    border-width: 2px;
}

.au-spinner--sm {
    width: 20px;
    height: 20px;
}

.au-spinner--sm .au-spinner__circle {
    border-width: 2px;
}

.au-spinner--md {
    width: 32px;
    height: 32px;
}

.au-spinner--md .au-spinner__circle {
    border-width: 3px;
}

/* MD3 standard: 48dp diameter, 4dp track */
.au-spinner--lg {
    width: 48px;
    height: 48px;
}

.au-spinner--lg .au-spinner__circle {
    border-width: 4px;
}

.au-spinner--xl {
    width: 48px;
    height: 48px;
}

.au-spinner--xl .au-spinner__circle {
    border-width: 4px;
}

/* ============================================================================
   COLORS
   ============================================================================ */

.au-spinner--primary {
    color: var(--md-sys-color-primary);
}

.au-spinner--secondary {
    color: var(--md-sys-color-secondary);
}

.au-spinner--current {
    color: currentColor;
}

.au-spinner--white {
    color: white;
}

/* ============================================================================
   KEYFRAMES — GPU-only (transform: rotate only)
   ============================================================================ */

/* Container rotation: continuous 360° */
@keyframes au-spinner-rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Left half-circle: arc grows from ~10° to ~270° */
@keyframes au-spinner-left {
    0% {
        transform: rotate(130deg);
    }

    50% {
        transform: rotate(-5deg);
    }

    100% {
        transform: rotate(130deg);
    }
}

/* Right half-circle: arc shrinks complementary to left */
@keyframes au-spinner-right {
    0% {
        transform: rotate(-130deg);
    }

    50% {
        transform: rotate(5deg);
    }

    100% {
        transform: rotate(-130deg);
    }
}