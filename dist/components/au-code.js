import{r as q,s as x}from"./chunk-kfvs9a30.js";import{t as $,u as w}from"./chunk-fvgsrqgj.js";class X extends ${static baseClass="au-code";static observedAttributes=["language"];static#D=null;static#G(Q){if(typeof document>"u")return Q;if(!X.#D)X.#D=document.createElement("div");X.#D.innerHTML=Q;let J=X.#D.textContent;return X.#D.innerHTML="",J}#F=null;connectedCallback(){if(super.connectedCallback(),!this.#F&&!this.querySelector(".au-code__content"))this.#F=this.textContent}render(){if(this.querySelector(".au-code__content"))return;let Q=this.attr("language","html"),J=this.#F||this.innerHTML,P=X.#G(J),F=this.#O(P),O=this.#P(F,Q),D=O,G=O.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),K=this.#K(G,Q),R=this.#J(K);this.innerHTML=x`<div class="au-code__header"> <span class="au-code__language">${Q.toUpperCase()}</span> <button class="au-code__copy" title="Copy code"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/> <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/> </svg> </button> </div> <pre class="au-code__pre"><code class="au-code__content">${q(R)}</code></pre>`,this.#Q(),this.#R(D)}#J(Q){return Q.replace(/<(\/?)([^>]*)>/g,(J,P,F)=>{if(P==="/"&&F.trim()==="span")return J;if(!P&&/^span\s+class="au-code__[a-z]+"$/.test(F.trim()))return J;return J.replace(/</g,"&lt;").replace(/>/g,"&gt;")})}#K(Q,J){let P=()=>{let F=[],O=0;return{addMarker:(K,R)=>{let U=O++,_=String.fromCharCode(57600+U),Y=String.fromCharCode(57344),Z=String.fromCharCode(57345),W=Y+_+Z;return F.push({marker:W,content:K,className:R}),W},resolveMarkers:(K)=>{for(let{marker:R,content:U,className:_}of F)K=K.replace(R,`<span class="${_}">${U}</span>`);return K}}};if(J==="html"||J==="xml"){let{addMarker:F,resolveMarkers:O}=P(),D=Q;return D=D.replace(/(&lt;!--[\s\S]*?--&gt;)/g,(G)=>F(G,"au-code__comment")),D=D.replace(/(&lt;!DOCTYPE[^&]*&gt;)/gi,(G)=>F(G,"au-code__keyword")),D=D.replace(/("[^"]*")/g,(G)=>F(G,"au-code__string")),D=D.replace(/(\s)([\w-]+)(=)/g,(G,K,R,U)=>`${K}${F(R,"au-code__attr")}${U}`),D=D.replace(/(&lt;\/?)([\w-]+)/g,(G,K,R)=>`${K}${F(R,"au-code__tag")}`),O(D)}if(J==="javascript"||J==="js"||J==="typescript"||J==="ts"){let{addMarker:F,resolveMarkers:O}=P(),D=Q;return D=D.replace(/(\/\*[\s\S]*?\*\/)/g,(G)=>F(G,"au-code__comment")),D=D.replace(/(\/\/.*)/g,(G)=>F(G,"au-code__comment")),D=D.replace(/(`[^`]*`)/g,(G)=>F(G,"au-code__string")),D=D.replace(/('[^']*'|"[^"]*")/g,(G)=>F(G,"au-code__string")),D=D.replace(/\b(\d+\.?\d*(?:e[+-]?\d+)?)\b/gi,(G)=>F(G,"au-code__number")),D=D.replace(/\b(const|let|var|function|return|if|else|for|while|do|switch|case|break|continue|class|extends|import|export|from|default|async|await|new|this|super|typeof|instanceof|in|of|try|catch|finally|throw|yield|static|get|set)\b/g,(G)=>F(G,"au-code__keyword")),D=D.replace(/\b(true|false|null|undefined|NaN|Infinity)\b/g,(G)=>F(G,"au-code__builtin")),D=D.replace(/\b([a-zA-Z_]\w*)\s*(?=\()/g,(G,K)=>F(K,"au-code__function")),O(D)}if(J==="css"||J==="scss"||J==="sass"){let{addMarker:F,resolveMarkers:O}=P(),D=Q;return D=D.replace(/(\/\*[\s\S]*?\*\/)/g,(G)=>F(G,"au-code__comment")),D=D.replace(/('[^']*'|"[^"]*")/g,(G)=>F(G,"au-code__string")),D=D.replace(/(@[\w-]+)/g,(G)=>F(G,"au-code__keyword")),D=D.replace(/\b(\d+\.?\d*)(px|em|rem|%|vh|vw|s|ms|deg|fr)\b/g,(G,K,R)=>`${F(K,"au-code__number")}${F(R,"au-code__builtin")}`),D=D.replace(/\b(\d+\.?\d*)\b/g,(G)=>F(G,"au-code__number")),D=D.replace(/(#[0-9a-fA-F]{3,8})\b/g,(G)=>F(G,"au-code__string")),D=D.replace(/\b([\w-]+)\s*:/g,(G,K)=>`${F(K,"au-code__attr")}:`),D=D.replace(/(^|[{,\s])([.#]?[\w-]+)(?=\s*[{,])/gm,(G,K,R)=>`${K}${F(R,"au-code__tag")}`),O(D)}if(J==="json"){let{addMarker:F,resolveMarkers:O}=P(),D=Q;return D=D.replace(/("[^"]*")\s*:/g,(G,K)=>`${F(K,"au-code__attr")}:`),D=D.replace(/:\s*("[^"]*")/g,(G,K)=>`: ${F(K,"au-code__string")}`),D=D.replace(/:\s*(-?\d+\.?\d*)/g,(G,K)=>`: ${F(K,"au-code__number")}`),D=D.replace(/\b(true|false|null)\b/g,(G)=>F(G,"au-code__builtin")),O(D)}if(J==="bash"||J==="sh"||J==="shell"){let{addMarker:F,resolveMarkers:O}=P(),D=Q;return D=D.replace(/(#.*)/g,(G)=>F(G,"au-code__comment")),D=D.replace(/('[^']*'|"[^"]*")/g,(G)=>F(G,"au-code__string")),D=D.replace(/(\$\{?\w+\}?)/g,(G)=>F(G,"au-code__attr")),D=D.replace(/\b(cd|ls|echo|cat|grep|find|sudo|npm|npx|bun|node|git|curl|wget|mkdir|rm|cp|mv|chmod|chown)\b/g,(G)=>F(G,"au-code__keyword")),D=D.replace(/(\s)(--?[\w-]+)/g,(G,K,R)=>`${K}${F(R,"au-code__builtin")}`),O(D)}return Q}#O(Q){let J=Q.split(`
`);while(J.length>0&&J[0].trim()==="")J.shift();while(J.length>0&&J[J.length-1].trim()==="")J.pop();if(J.length===0)return"";let P=1/0;for(let F of J){if(F.trim()==="")continue;let O=F.match(/^(\s*)/),D=O?O[1].length:0;P=Math.min(P,D)}if(P===1/0||P===0)return J.join(`
`);return J.map((F)=>{if(F.trim()==="")return"";return F.slice(P)}).join(`
`)}#P(Q,J){let F=Q.split(`
`),O=[],D=0;for(let G=0;G<F.length;G++){let K=F[G].trim();if(K===""){O.push("");continue}let R=0,U=0;if(J==="html"){let Y=(K.match(/<[a-zA-Z][^>]*(?<!\/)\s*>/g)||[]).length,Z=(K.match(/<\/[^>]+>/g)||[]).length,W=(K.match(/<[^>]+\/>/g)||[]).length;R=Y-W,U=Z}else{let Y=!1,Z="";for(let W=0;W<K.length;W++){let V=K[W],z=W>0?K[W-1]:"";if((V==='"'||V==="'"||V==="`")&&z!=="\\"){if(!Y)Y=!0,Z=V;else if(V===Z)Y=!1}if(!Y){if(V==="{"||V==="["||V==="(")R++;if(V==="}"||V==="]"||V===")")U++}}}if((J==="html"?K.startsWith("</"):/^[}\]\)]/.test(K))&&U>0)D=Math.max(0,D-1),U--;O.push("    ".repeat(D)+K),D=Math.max(0,D+R-U)}return O.join(`
`)}#Q(){if(this.style.display="block",this.style.background="var(--md-sys-color-surface-container-highest)",this.closest("au-example"))this.style.borderTopLeftRadius="0",this.style.borderTopRightRadius="0",this.style.borderBottomLeftRadius="var(--md-sys-shape-corner-medium)",this.style.borderBottomRightRadius="var(--md-sys-shape-corner-medium)";else this.style.borderRadius="var(--md-sys-shape-corner-medium)";this.style.overflow="hidden",this.style.fontFamily="'Fira Code', 'Consolas', monospace",this.style.fontSize="13px";let J=this.querySelector(".au-code__header");if(J)J.style.display="flex",J.style.justifyContent="space-between",J.style.alignItems="center",J.style.padding="8px 16px",J.style.background="var(--md-sys-color-surface-container)",J.style.borderBottom="1px solid var(--md-sys-color-outline-variant)";let P=this.querySelector(".au-code__language");if(P)P.style.fontSize="11px",P.style.fontWeight="600",P.style.color="var(--md-sys-color-primary)",P.style.letterSpacing="0.5px";let F=this.querySelector(".au-code__copy");if(F)F.style.background="transparent",F.style.border="none",F.style.cursor="pointer",F.style.color="var(--md-sys-color-on-surface-variant)",F.style.padding="4px",F.style.borderRadius="4px",F.style.display="flex",F.style.transition="all 0.2s ease";let O=this.querySelector(".au-code__pre");if(O)O.style.margin="0",O.style.padding="16px",O.style.overflow="auto",O.style.maxHeight="400px";let D=this.querySelector(".au-code__content");if(D)D.style.color="var(--md-sys-color-on-surface)";if(!X._stylesInjected){X._stylesInjected=!0;let G=document.createElement("style");G.id="au-code-styles",G.textContent=`.au-code__tag { color: var(--md-sys-color-primary); } .au-code__attr { color: var(--md-sys-color-tertiary); } .au-code__string { color: var(--md-sys-color-secondary); } .au-code__keyword { color: var(--md-sys-color-primary); font-weight: 500; } .au-code__comment { color: var(--md-sys-color-outline); font-style: italic; } .au-code__number { color: var(--md-sys-color-error); } .au-code__function { color: var(--md-sys-color-tertiary); } .au-code__builtin { color: var(--md-sys-color-primary); font-weight: 500; } .au-code__copy:hover { background: var(--md-sys-color-primary-container) !important; color: var(--md-sys-color-on-primary-container) !important; } .au-code__copy:active { background: var(--md-sys-color-primary) !important; color: var(--md-sys-color-on-primary) !important; transform: scale(0.95); } .au-code__copy.copied { background: #c8e6c9 !important; color: #1b5e20 !important; }`,document.head.appendChild(G)}}#R(Q){let J=this.querySelector(".au-code__copy");if(J)this.listen(J,"click",async()=>{try{await navigator.clipboard.writeText(Q.trim()),J.classList.add("copied"),J.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"/> </svg>`,this.setTimeout(()=>{J.classList.remove("copied"),J.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/> <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/> </svg>`},2000)}catch(P){console.error("Copy failed:",P)}})}}w("au-code",X);export{X as AuCode};
