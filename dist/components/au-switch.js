import{e as M}from"./chunk-fbt68vqm.js";import{i as Q}from"./chunk-n6dgbf9b.js";import{s as K}from"./chunk-kfvs9a30.js";import{t as O,u as P}from"./chunk-xm6c90d2.js";class U extends O{static baseClass="au-switch";static cssFile="switch";static observedAttributes=["checked","disabled","label"];connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setupActivation(()=>this.toggle()),this._initializing=!0,queueMicrotask(()=>{this._initializing=!1}),this.listen(this,"pointerdown",(g)=>{if(!this.isDisabled){let B=this.querySelector(".au-switch__state-layer");if(B)Q(B,g,{centered:!0,eventTarget:this})}}),this.listen(this,"click",()=>{if(!this.isDisabled&&!this._initializing)this.toggle()})}render(){if(this.querySelector(".au-switch__track")){this.#g();return}let g=this.attr("label","")||this.textContent;this.innerHTML=K`<span class="au-switch__track"> <span class="au-switch__state-layer"> <span class="au-switch__thumb"></span> </span> </span> ${g?K`<span class="au-switch__label">${g}</span>`:""}`,this.style.display="inline-flex",this.style.alignItems="center",this.style.gap="12px",M(this,this.has("disabled")),this.#g()}update(g,B,q){this.#g()}#g(){let g=this.querySelector(".au-switch__track"),B=this.querySelector(".au-switch__state-layer"),q=this.querySelector(".au-switch__thumb"),H=this.has("checked"),G=this.has("disabled");if(M(this,G),g)if(g.style.width="52px",g.style.height="32px",g.style.borderRadius="16px",g.style.position="relative",g.style.transition="background var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard)",G)g.style.background="color-mix(in srgb, var(--md-sys-color-on-surface) 12%, transparent)";else g.style.background=H?"var(--md-sys-color-primary)":"var(--md-sys-color-surface-container-highest)";if(B){let I=H?20:-2;B.style.cssText=`width: 40px; height: 40px; border-radius: 50%; position: absolute; top: -4px; left: ${I}px; display: flex; align-items: center; justify-content: center; overflow: hidden; transition: left var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized);`}if(q){let I=H?24:16;if(q.style.width=`${I}px`,q.style.height=`${I}px`,q.style.borderRadius=`${I/2}px`,q.style.transition="all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized)",G)q.style.background="color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)",q.style.boxShadow="none";else q.style.background=H?"var(--md-sys-color-on-primary)":"var(--md-sys-color-outline)",q.style.boxShadow="var(--md-sys-elevation-level1)"}let J=this.querySelector(".au-switch__label");if(J)J.style.color=G?"color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)":"var(--md-sys-color-on-surface)";this.setAttribute("aria-checked",String(H)),this.setAttribute("aria-disabled",String(G)),this.setAttribute("tabindex",G?"-1":"0");let N=J?.textContent||this.attr("label","");if(N)this.setAttribute("aria-label",N)}toggle(){if(this.has("checked"))this.removeAttribute("checked");else this.setAttribute("checked","");this.emit("au-change",{checked:this.has("checked"),source:"user"})}get checked(){return this.has("checked")}set checked(g){if(g)this.setAttribute("checked","");else this.removeAttribute("checked")}}P("au-switch",U);export{U as AuSwitch};
