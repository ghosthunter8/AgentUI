import{c as O}from"./chunk-3ka2sg3w.js";import{o as J}from"./chunk-vdksh7v1.js";import{p as M,q as N}from"./chunk-bnnxbbsk.js";class P extends M{static baseClass="au-switch";static cssFile="switch";static observedAttributes=["checked","disabled","label"];connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setupActivation(()=>this.toggle()),this._initializing=!0,queueMicrotask(()=>{this._initializing=!1}),this.listen(this,"pointerdown",(g)=>{if(!this.isDisabled){let B=this.querySelector(".au-switch__state-layer");if(B)O(B,g,{centered:!0})}}),this.listen(this,"click",()=>{if(!this.isDisabled&&!this._initializing)this.toggle()})}render(){if(this.querySelector(".au-switch__track")){this.#g();return}let g=this.attr("label","")||this.textContent;this.innerHTML=J`<span class="au-switch__track"> <span class="au-switch__state-layer"> <span class="au-switch__thumb"></span> </span> </span> ${g?J`<span class="au-switch__label">${g}</span>`:""}`,this.style.display="inline-flex",this.style.alignItems="center",this.style.gap="12px",this.style.cursor=this.has("disabled")?"not-allowed":"pointer",this.#g()}update(g,B,q){this.#g()}#g(){let g=this.querySelector(".au-switch__track"),B=this.querySelector(".au-switch__state-layer"),q=this.querySelector(".au-switch__thumb"),G=this.has("checked"),F=this.has("disabled");if(this.style.cursor=F?"not-allowed":"pointer",g)if(g.style.width="52px",g.style.height="32px",g.style.borderRadius="16px",g.style.position="relative",g.style.transition="background var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard)",F)g.style.background="color-mix(in srgb, var(--md-sys-color-on-surface) 12%, transparent)";else g.style.background=G?"var(--md-sys-color-primary)":"var(--md-sys-color-surface-container-highest)";if(B){let H=G?20:-2;B.style.cssText=`width: 40px; height: 40px; border-radius: 50%; position: absolute; top: -4px; left: ${H}px; display: flex; align-items: center; justify-content: center; overflow: hidden; transition: left var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized);`}if(q){let H=G?24:16;if(q.style.width=`${H}px`,q.style.height=`${H}px`,q.style.borderRadius=`${H/2}px`,q.style.transition="all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized)",F)q.style.background="color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)",q.style.boxShadow="none";else q.style.background=G?"var(--md-sys-color-on-primary)":"var(--md-sys-color-outline)",q.style.boxShadow="var(--md-sys-elevation-level1)"}let I=this.querySelector(".au-switch__label");if(I)I.style.color=F?"color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)":"var(--md-sys-color-on-surface)";this.setAttribute("aria-checked",String(G)),this.setAttribute("aria-disabled",String(F)),this.setAttribute("tabindex",F?"-1":"0");let K=I?.textContent||this.attr("label","");if(K)this.setAttribute("aria-label",K)}toggle(){if(this.has("checked"))this.removeAttribute("checked");else this.setAttribute("checked","");this.emit("au-change",{checked:this.has("checked"),source:"user"})}get checked(){return this.has("checked")}set checked(g){if(g)this.setAttribute("checked","");else this.removeAttribute("checked")}}N("au-switch",P);export{P as AuSwitch};
