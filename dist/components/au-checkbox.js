import{c as U,d as V,e as X}from"./chunk-fbt68vqm.js";import{i as T}from"./chunk-n6dgbf9b.js";import{s as Q}from"./chunk-kfvs9a30.js";import{t as N,u as O}from"./chunk-fvgsrqgj.js";class Y extends N{static baseClass="au-checkbox";static cssFile="checkbox";static observedAttributes=["checked","disabled","name","label","indeterminate"];#q=null;connectedCallback(){super.connectedCallback(),this.setAttribute("role","checkbox"),this.setupActivation(()=>this.toggle()),this._initializing=!0,queueMicrotask(()=>{this._initializing=!1}),this.listen(this,"pointerdown",(q)=>{if(!this.isDisabled){let g=this.querySelector(".au-checkbox__state-layer");if(g)T(g,q,{centered:!0,eventTarget:this})}}),this.listen(this,"click",()=>{if(!this.isDisabled&&!this._initializing)this.toggle()})}render(){if(this.querySelector(".au-checkbox__box")){this.#g();return}let q=this.attr("label","")||this.textContent;this.innerHTML=Q`<span class="au-checkbox__state-layer"> <span class="au-checkbox__box"> <svg class="au-checkbox__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"> <path class="au-checkbox__check" d="M4 12l6 6L20 6"/> <line class="au-checkbox__indeterminate" x1="5" y1="12" x2="19" y2="12"/> </svg> </span> </span> <span class="au-checkbox__label">${q}</span>`,U(this,this.has("disabled")),this.#g()}update(q,g,z){this.#g()}#g(){let q=this.querySelector(".au-checkbox__state-layer"),g=this.querySelector(".au-checkbox__box"),z=this.querySelector(".au-checkbox__icon"),B=this.querySelector(".au-checkbox__check"),G=this.querySelector(".au-checkbox__indeterminate"),M=this.querySelector(".au-checkbox__label");if(q)V(q);let w=this.has("disabled"),J=this.has("checked"),H=this.has("indeterminate"),K=J||H;if(X(this,w),g)if(g.style.width="18px",g.style.height="18px",g.style.borderRadius="2px",g.style.display="flex",g.style.alignItems="center",g.style.justifyContent="center",g.style.transition="all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-standard)",g.style.flexShrink="0",w)g.style.border="2px solid color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)",g.style.background=K?"color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)":"transparent";else g.style.border=`2px solid ${K?"var(--md-sys-color-primary)":"var(--md-sys-color-outline)"}`,g.style.background=K?"var(--md-sys-color-primary)":"transparent";if(z)z.style.width="14px",z.style.height="14px",z.style.color=w?"var(--md-sys-color-surface)":"var(--md-sys-color-on-primary)";if(B)B.style.strokeDasharray=24,B.style.strokeDashoffset=J&&!H?"0":24,B.style.transition="stroke-dashoffset 200ms var(--md-sys-motion-easing-standard, ease-out)";if(G)G.style.strokeDasharray=14,G.style.strokeDashoffset=H?"0":14,G.style.transition="stroke-dashoffset 200ms var(--md-sys-motion-easing-standard, ease-out)";if(M)M.style.color=w?"color-mix(in srgb, var(--md-sys-color-on-surface) 38%, transparent)":"var(--md-sys-color-on-surface)";this.setAttribute("aria-checked",H?"mixed":String(J)),this.setAttribute("aria-disabled",String(w)),this.setAttribute("tabindex",w?"-1":"0")}toggle(){if(this.has("indeterminate"))this.removeAttribute("indeterminate");if(this.has("checked"))this.removeAttribute("checked");else this.setAttribute("checked","");this.emit("au-change",{checked:this.has("checked"),indeterminate:!1,source:"user"})}get checked(){return this.has("checked")}set checked(q){if(q)this.setAttribute("checked","");else this.removeAttribute("checked")}get indeterminate(){return this.has("indeterminate")}set indeterminate(q){if(q)this.setAttribute("indeterminate","");else this.removeAttribute("indeterminate")}}O("au-checkbox",Y);export{Y as AuCheckbox};
