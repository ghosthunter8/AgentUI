import{q as x,r as B}from"./chunk-j91n0wcr.js";class C extends x{static baseClass="au-lazy";static observedAttributes=["root-margin","threshold"];#k=null;#q=!1;connectedCallback(){super.connectedCallback();let k=this.attr("root-margin","200px"),q=parseFloat(this.attr("threshold","0"));this.#k=new IntersectionObserver((w)=>{if(w[0].isIntersecting&&!this.#q)this.#w()},{rootMargin:k,threshold:q}),this.#k.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this.#k?.disconnect()}render(){let k=this.querySelector('[slot="placeholder"]');if(k)k.style.display="block";let q=this.querySelector("template");if(q)q.style.display="none"}#w(){this.#q=!0,this.#k?.disconnect();let k=this.querySelector("template"),q=this.querySelector('[slot="placeholder"]');if(k){let w=k.content.cloneNode(!0);this.appendChild(w),k.remove()}if(q)q.remove();this.emit("au-loaded"),this.classList.add("is-loaded")}load(){if(!this.#q)this.#w()}}B("au-lazy",C);export{C as AuLazy};
