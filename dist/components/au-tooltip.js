import{p as N,q as Q}from"./chunk-gkgym1ts.js";var K=8;class S extends N{static baseClass="au-tooltip";static cssFile="tooltip";static observedAttributes=["content","position"];#k=null;connectedCallback(){super.connectedCallback(),this.listen(this,"mouseenter",()=>this.show()),this.listen(this,"mouseleave",()=>this.hide()),this.listen(this,"focus",()=>this.show(),{capture:!0}),this.listen(this,"blur",()=>this.hide(),{capture:!0})}render(){let k=["au-tooltip",`au-tooltip--${this.attr("position","top")}`];k.forEach((q)=>this.classList.add(q)),Array.from(this.classList).forEach((q)=>{if(q.startsWith("au-tooltip--")&&!k.includes(q))this.classList.remove(q)}),this.style.position="relative",this.style.display="inline-block"}update(D,k,q){if(D==="position"){let B=["au-tooltip",`au-tooltip--${this.attr("position","top")}`];B.forEach((J)=>this.classList.add(J)),Array.from(this.classList).forEach((J)=>{if(J.startsWith("au-tooltip--")&&!B.includes(J))this.classList.remove(J)})}}show(){if(this.#k)return;let D=this.attr("content","");if(!D)return;let k=this.attr("position","top");this.#k=document.createElement("div"),this.#k.className=`au-tooltip__content au-tooltip__content--${k}`,this.#k.textContent=D,this.#k.setAttribute("role","tooltip"),this.#k.style.cssText=`
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            visibility: hidden;
            z-index: var(--au-z-tooltip, 9999);
            pointer-events: none;
            margin: 0 !important;
        `,document.body.appendChild(this.#k),this.#z(k),requestAnimationFrame(()=>{if(this.#k)this.#k.style.visibility="visible",this.#k.style.opacity="1"})}#z(D){let k=this.getBoundingClientRect(),q=this.#k.getBoundingClientRect(),{x:z,y:B}=this.#q(D,k,q),J=this.#B(D,z,B,q,k);if(J!==D)({x:z,y:B}=this.#q(J,k,q));let{innerWidth:M,innerHeight:U}=window;z=Math.max(4,Math.min(z,M-q.width-4)),B=Math.max(4,Math.min(B,U-q.height-4)),this.#k.style.setProperty("left",`${z}px`,"important"),this.#k.style.setProperty("top",`${B}px`,"important")}#q(D,k,q){let z,B;switch(D){case"top":z=k.left+(k.width-q.width)/2,B=k.top-q.height-K;break;case"bottom":z=k.left+(k.width-q.width)/2,B=k.bottom+K;break;case"left":z=k.left-q.width-K,B=k.top+(k.height-q.height)/2;break;case"right":z=k.right+K,B=k.top+(k.height-q.height)/2;break;default:z=k.left+(k.width-q.width)/2,B=k.top-q.height-K}return{x:z,y:B}}#B(D,k,q,z,B){let{innerWidth:J,innerHeight:M}=window;switch(D){case"top":if(q<0)return"bottom";break;case"bottom":if(q+z.height>M)return"top";break;case"left":if(k<0)return"right";break;case"right":if(k+z.width>J)return"left";break}return D}hide(){if(this.#k)this.#k.remove(),this.#k=null}disconnectedCallback(){super.disconnectedCallback(),this.hide()}}Q("au-tooltip",S);export{S as AuTooltip};
