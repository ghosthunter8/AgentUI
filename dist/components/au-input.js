import{n as G,o as J,p as K}from"./chunk-yzw087eq.js";import{q as R,r as U}from"./chunk-j91n0wcr.js";var $=["date","time","datetime-local","month","week"];class X extends R{static baseClass="au-input";static cssFile="input";static observedAttributes=["type","placeholder","value","disabled","variant","size","label"];#g=null;render(){if(this.querySelector(".au-input__field")){this.#g=this.querySelector("input"),this.#q(),this.#k(),this.#B();return}let g=this.attr("type","text"),k=this.attr("placeholder",""),B=this.attr("label",""),q=this.attr("value",""),D=B||k,Z=!D;if(!D&&!this.getAttribute("aria-label"))this.logError("A11Y_MISSING_LABEL","Input must have a label or aria-label attribute.");let Q=this.id?`${this.id}__field`:`au-input-${Math.random().toString(36).substring(2,9)}`;this.innerHTML=K`${D?K`<label class="au-input__label" for="${Q}">${D}</label>`:""} <input class="au-input__field" id="${Q}" type="${g}" ${Z?J(`placeholder="${G(k)}"`):""} ${!D?J(`aria-label="${G(k||"Text input")}"`):""} value="${q}" ${this.has("disabled")?"disabled":""} />`,this.#g=this.querySelector("input"),this.#q(),this.#k(),this.#B()}#B(){if(!this.#g)return;this.listen(this.#g,"input",(g)=>{this.#k(),this.emit("au-input",{value:g.target.value})}),this.listen(this.#g,"focus",()=>{this.emit("au-focus")}),this.listen(this.#g,"blur",()=>{this.#k(),this.emit("au-blur")})}#k(){let g=this.attr("type","text");if($.includes(g)||this.#g?.value)this.classList.add("has-value");else this.classList.remove("has-value")}update(g,k,B){if(!this.#g)return;switch(g){case"value":this.#g.value=k??"",this.#k();break;case"placeholder":this.#g.placeholder=k??"";break;case"type":this.#g.type=k??"text",this.#k();break;case"disabled":this.#g.disabled=this.has("disabled");break}this.#q()}#q(){let g=this.attr("variant","outlined"),k=this.attr("size","md"),B=["au-input",`au-input--${g}`,`au-input--${k}`];if(B.forEach((q)=>this.classList.add(q)),Array.from(this.classList).forEach((q)=>{if(q.startsWith("au-input--")&&!B.includes(q))this.classList.remove(q)}),this.has("disabled"))this.classList.add("is-disabled");else this.classList.remove("is-disabled")}get value(){return this.#g?.value??""}set value(g){if(this.#g)this.#g.value=g,this.#k()}focus(){this.#g?.focus()}clear(){this.value=""}}U("au-input",X);export{X as AuInput};
