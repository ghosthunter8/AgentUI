var z=/^(save|submit|confirm|send|create|add|apply|ok|yes)$/,B=/^(cancel|close|dismiss|no|nevermind)$/,G=/^(delete|remove|clear|trash)$/,U=/^(back|next|previous|forward|continue)$/;class Q extends HTMLElement{static observedAttributes=[];static baseClass="";static cssFile=null;static _loadedCSS=/*@__PURE__*/new Set;static _bundleChecked=!1;static _bundleLoaded=!1;static _agentLoggerInitialized=!1;static useContainment=!0;static describe(){let j=this.baseClass||this.name.replace(/^Au/,"au-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),J=Q._describeCatalog?.[j]||{name:j,props:this.observedAttributes||[],baseClass:this.baseClass||"",cssFile:this.cssFile||null},q=typeof document<"u"?Array.from(document.querySelectorAll(j)):[];return{...J,runtime:{registered:typeof customElements<"u"&&!!customElements.get(j),version:"0.1.148",instanceCount:q.length,instances:q.slice(0,5).map((K)=>{let O={id:K.id||null};if("value"in K&&K.value!==void 0)O.value=K.value;if("checked"in K&&K.checked!==void 0)O.checked=K.checked;if(typeof K.offsetParent<"u")O.visible=K.offsetParent!==null;return O})}}}static _describeCatalog=null;_rendered=!1;_abortController=null;_timers=/*@__PURE__*/new Set;_intervals=/*@__PURE__*/new Set;isReady=!1;_readyResolve=null;ready=new Promise((j)=>{this._readyResolve=j});constructor(){super();if(!Q._agentLoggerInitialized)Q._agentLoggerInitialized=!0,this._initAgentLogger()}_initAgentLogger(){if(!window.__AGENTUI_ERRORS__)window.__AGENTUI_ERRORS__=[];if(!window.AgentUIAgent)window.AgentUIAgent={reset:()=>{window.__AGENTUI_ERRORS__=[]},getErrors:()=>window.__AGENTUI_ERRORS__,hasError:(j,J)=>{return window.__AGENTUI_ERRORS__.some((q)=>q.component===j.toLowerCase()&&q.code===J)}}}logError(j,J){let q={component:this.tagName.toLowerCase(),code:j,message:J,element:this,timestamp:Date.now()};window.__AGENTUI_ERRORS__.push(q),console.warn(`[AgentUI] ${j}: ${J}`,this)}connectedCallback(){if(!this._abortController)this._abortController=new AbortController;if(this.constructor.baseClass)this.classList.add(this.constructor.baseClass);if(this.constructor.useContainment&&!this.style.contain)this.style.contain="layout style";if(this.#j(),!this._rendered)this.render(),this._rendered=!0;if(this._loadComponentCSS(),this._inferSemanticAttributes(),!this.isReady){this.isReady=!0,this._readyResolve(this);try{this.dispatchEvent(new CustomEvent("au:ready",{bubbles:!0,composed:!0}))}catch(j){}}}#j(){this.listen(this,"click",(j)=>{let J=j.target.closest("[data-action]");if(!J||!this.contains(J))return;let q=J.dataset.action;if(this.handleAction)this.handleAction(q,J,j)})}_loadComponentCSS(){let j=this.constructor.cssFile;if(!j)return;if(!Q._bundleChecked)Q._bundleChecked=!0,Q._bundleLoaded=!!document.querySelector('link[href*="agentui.css"], link[href*="agentui.min.css"]')||!!document.querySelector('link[href*="agentui-wc"]')||!!document.querySelector('link[href*="components.css"]')||!!document.querySelector("style[data-agentui]")||typeof getComputedStyle<"u"&&getComputedStyle(document.documentElement).getPropertyValue("--md-sys-color-primary").trim()!=="";if(Q._bundleLoaded)return;if(Q._loadedCSS.has(j))return;Q._loadedCSS.add(j);let J=document.createElement("link");J.id=`au-css-${j}`,J.rel="stylesheet";let q="/styles/",K=document.querySelector('link[href*="/styles/"]');if(K){let O=K.href.match(/(.*\/(?:src\/|dist\/)?styles\/)/);if(O)q=O[1]}else{let O=document.querySelector('link[href*="/dist/"]');if(O){let W=O.href.match(/(.*\/dist\/)/);if(W)q=W[1]+"styles/"}else{let W=document.querySelector('script[src*="/src/"]');if(W){let Z=W.src.match(/(.*\/src\/)/);if(Z)q=Z[1]+"styles/"}}}if(q.startsWith("http")||q.startsWith("//"))try{if(new URL(q,window.location.origin).origin!==window.location.origin)console.warn(`[AgentUI] Blocked cross-origin CSS path: ${q}`),q="/styles/"}catch{q="/styles/"}J.href=`${q}components/${j}.css`,document.head.appendChild(J)}_inferSemanticAttributes(){let j=this.tagName.toLowerCase();if(this.hasAttribute("data-au-action"))return;let J="",q="";switch(j){case"au-button":J=this._inferButtonAction(),q=this._inferButtonRole();break;case"au-input":case"au-textarea":J="input",q="text-field";break;case"au-checkbox":case"au-switch":J="toggle",q="control";break;case"au-dropdown":J="select",q="selector";break;case"au-modal":J="dialog",q="overlay";break;case"au-tabs":J="navigate",q="navigation";break;case"au-card":q="container";break}if(J)this.setAttribute("data-au-action",J);if(q)this.setAttribute("data-au-role",q)}_inferButtonAction(){let j=this.textContent?.toLowerCase().trim()||"";if(z.test(j))return"submit";if(B.test(j))return"cancel";if(G.test(j))return"delete";if(U.test(j))return"navigate";return"click"}_inferButtonRole(){let j=this.getAttribute("variant");if(j==="filled"||j==="elevated")return"primary-action";if(j==="tonal"||j==="outlined")return"secondary-action";if(j==="text")return"tertiary-action";if(j==="danger")return"destructive-action";return"action"}disconnectedCallback(){if(this._abortController)this._abortController.abort(),this._abortController=null;for(let j of this._timers)clearTimeout(j);this._timers.clear();for(let j of this._intervals)clearInterval(j);this._intervals.clear(),this.cleanup()}cleanup(){}attributeChangedCallback(j,J,q){if(J!==q&&this._rendered)this.update(j,q,J)}render(){}update(j,J,q){}setupEvents(){}attr(j,J=""){return this.getAttribute(j)??J}has(j){return this.hasAttribute(j)}emit(j,J={}){this.dispatchEvent(new CustomEvent(j,{bubbles:!0,composed:!0,detail:J}))}listen(j,J,q,K={}){if(!this._abortController)this._abortController=new AbortController;let O={...K,signal:this._abortController.signal};j.addEventListener(J,q,O)}setTimeout(j,J){let q;return q=setTimeout(()=>{this._timers.delete(q),j()},J),this._timers.add(q),q}setInterval(j,J){let q=setInterval(j,J);return this._intervals.add(q),q}setupActivation(j){this.updateTabindex(),this.listen(this,"keydown",(J)=>{if((J.key==="Enter"||J.key===" ")&&!this.has("disabled"))J.preventDefault(),j()})}updateTabindex(){this.setAttribute("tabindex",this.has("disabled")?"-1":"0")}setDisplay(j){this.style.display=j}get isDisabled(){return this.has("disabled")}}function D(j,J,q={}){if(customElements.get(j))return;let K=q.priority||"user-blocking";if(typeof scheduler<"u"&&scheduler.postTask)scheduler.postTask(()=>{if(!customElements.get(j))customElements.define(j,J)},{priority:K});else customElements.define(j,J)}function $(j){if(j==null)return"";return String(j).replace(/[&<>"']/g,(J)=>Y[J])}var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};class X extends String{constructor(j){super(j==null?"":j)}}function w(j){return new X(j)}function R(j,...J){let q="";for(let K=0;K<j.length;K++)if(q+=j[K],K<J.length){let O=J[K];if(O instanceof X)q+=O;else if(Array.isArray(O))for(let W of O)if(W instanceof X)q+=W;else q+=$(W);else q+=$(O)}return new X(q)}
export{Q as B,D as C,$ as D,w as E,R as F};
