import{a as C,b as k,c as g}from"./chunk-p10c1k6w.js";import{f as q,g as Z,h as V,i as w,j as u,k as d,l as p,m as b,n as m,o as c,q as y,s as T}from"./chunk-7fc490x3.js";import{A as a,u as i,v as o,w as n,x as r,y as s,z as l}from"./chunk-p1wb5tk8.js";import{B as G,C as B}from"./chunk-6k0k7e8t.js";var F={set(z){if(z==="auto"){let H=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",H?"dark":"light")}else document.documentElement.setAttribute("data-theme",z);localStorage.setItem("au-theme",z),q.emit(Z.THEME_CHANGE,{theme:z})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let z=this.get();this.set(z==="dark"?"light":"dark")},init(){let z=localStorage.getItem("au-theme");if(z)this.set(z);else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(H)=>{if(localStorage.getItem("au-theme")==="auto")document.documentElement.setAttribute("data-theme",H.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null}};if(typeof window<"u")F.init();var O="startViewTransition"in document;async function N(z){if(O)await document.startViewTransition(async()=>{await z()}).finished;else await z()}async function v(z,{name:H="page"}={}){if(O){let J=document.createElement("style");J.textContent=`
            ::view-transition-old(${H}),
            ::view-transition-new(${H}) {
                animation-duration: 0.3s;
            }
        `,document.head.appendChild(J),await N(z),J.remove()}else await z()}async function A(z,H){await N(()=>{window.history.pushState({},"",z),H()})}class L extends G{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>F.toggle()),q.on(Z.THEME_CHANGE,()=>this.#z())}render(){this.innerHTML=`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#z()}#z(){let z=F.get()==="dark",H=this.querySelector(".au-theme-toggle__icon");if(H)H.textContent=z?"☀️":"\uD83C\uDF19"}}B("au-theme-toggle",L);w("au-theme-toggle",{signals:[Z.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});function U(z){let H=z.getAttribute("aria-labelledby");if(H){let X=H.split(" ").map((_)=>document.getElementById(_)?.textContent).filter(Boolean).join(" ");if(X)return X}let J=z.getAttribute("aria-label");if(J)return J;if(z.id){let X=document.querySelector(`label[for="${z.id}"]`);if(X)return X.textContent.trim()}let K=z.getAttribute("title");if(K)return K;let W=z.getAttribute("role")||z.tagName.toLowerCase();if(["button","link","tab","menuitem","option","radio","checkbox"].some((X)=>W.includes(X))){let X=z.textContent?.trim();if(X&&X.length<100)return X}let Y=z.getAttribute("placeholder");if(Y)return Y;let Q=z.getAttribute("value");if(Q&&z.tagName.includes("INPUT"))return`Input: ${Q}`;return z.tagName.toLowerCase().replace("au-","")}function f(z){let H=[],J=z.tagName.toLowerCase();if(z.hasAttribute("disabled"))return["none (disabled)"];if(z.onclick||z.hasAttribute("onclick"))H.push("click");switch(J){case"au-button":H.push("click");break;case"au-checkbox":case"au-switch":H.push("toggle","check","uncheck");break;case"au-input":case"au-textarea":H.push("type","clear","focus");break;case"au-dropdown":H.push("open","select","close");break;case"au-modal":H.push("open","close");break;case"au-tabs":H.push("select-tab");break;case"au-radio":H.push("select");break;case"au-chip":H.push("toggle","click");break;case"au-confirm":H.push("confirm","cancel");break;default:if(z.classList.contains("au-button")||z.getAttribute("role")==="button")H.push("click")}return H.length?H:["focus"]}function j(z){let H={},J=z.tagName.toLowerCase();if(z.hasAttribute("checked"))H.checked=!0;if(z.hasAttribute("disabled"))H.disabled=!0;if(z.hasAttribute("open"))H.open=!0;if(z.hasAttribute("selected"))H.selected=!0;if(z.hasAttribute("active"))H.active=!0;if(z.hasAttribute("loading"))H.loading=!0;if(z.hasAttribute("value"))H.value=z.getAttribute("value");let K=z.getAttribute("aria-checked");if(K)H.ariaChecked=K==="true";let W=z.getAttribute("aria-expanded");if(W)H.expanded=W==="true";let $=z.getAttribute("aria-selected");if($)H.selected=$==="true";switch(J){case"au-input":case"au-textarea":let Y=z.querySelector("input, textarea");if(Y)H.value=Y.value,H.placeholder=Y.placeholder;break;case"au-progress":H.value=parseFloat(z.getAttribute("value")||"0"),H.max=parseFloat(z.getAttribute("max")||"100"),H.percentage=H.value/H.max*100;break;case"au-dropdown":H.value=z.getAttribute("value"),H.open=z.classList.contains("is-open");break}return H}function x(z){let H=z.tagName.toLowerCase().replace("au-",""),J=U(z),K=j(z),W=K.disabled?" (disabled)":"",Y={button:()=>`Button "${J}"${W}. ${K.loading?"Currently loading.":"Click to activate."}`,checkbox:()=>`Checkbox "${J}"${W}. Currently ${K.ariaChecked||K.checked?"checked":"unchecked"}.`,switch:()=>`Toggle switch "${J}"${W}. Currently ${K.ariaChecked||K.checked?"on":"off"}.`,input:()=>`Text input "${J}"${W}. ${K.value?`Current value: "${K.value}"`:"Empty."} ${K.placeholder?`Placeholder: "${K.placeholder}"`:""}`,textarea:()=>`Text area "${J}"${W}. ${K.value?`Contains: "${K.value.slice(0,50)}${K.value.length>50?"...":""}"`:"Empty."}`,dropdown:()=>`Dropdown "${J}"${W}. ${K.value?`Selected: "${K.value}"`:"No selection."} ${K.open?"Menu is open.":"Menu is closed."}`,modal:()=>`Modal dialog${K.open?" (currently open)":" (currently closed)"}. ${J!=="modal"?`Title: "${J}"`:""}`,tabs:()=>`Tab navigation with ${z.querySelectorAll("au-tab").length} tabs.`,tab:()=>`Tab "${J}". ${K.active?"Currently active.":"Inactive."}`,progress:()=>`Progress bar at ${Math.round(K.percentage||0)}%.`,spinner:()=>"Loading spinner indicating operation in progress.",alert:()=>`Alert message: "${z.textContent?.trim().slice(0,100)||J}"`,card:()=>`Card container${J!=="card"?` titled "${J}"`:""}.`,chip:()=>`Chip "${J}"${W}. ${K.selected?"Selected.":"Not selected."}`,badge:()=>`Badge showing "${z.textContent?.trim()||"notification"}"`,avatar:()=>`User avatar${z.getAttribute("name")?` for "${z.getAttribute("name")}"`:""}`,icon:()=>`Icon: ${z.getAttribute("name")||"decorative"}`,confirm:()=>`Confirmation dialog. ${K.open?"Waiting for user response.":"Hidden."}`,fetch:()=>`Data fetcher${K.loading?" (loading)":""}. URL: ${z.getAttribute("url")||"not set"}`}[H];if(Y)return Y();return`${H} component${J?` "${J}"`:""}${W}.`}function h(z){let H=z.getBoundingClientRect();return H.top<window.innerHeight&&H.bottom>0&&H.left<window.innerWidth&&H.right>0&&H.width>0&&H.height>0}function P(z=document.body,H={}){let{visibleOnly:J=!1,interactiveOnly:K=!1,types:W=null}=H,$;if(W)$=z.querySelectorAll(W.join(","));else $=Array.from(z.querySelectorAll("*")).filter((X)=>X.tagName.toLowerCase().startsWith("au-")&&X.tagName.toLowerCase()!=="au-ripple-wave");let Y=[],Q=new Set(["au-button","au-checkbox","au-switch","au-input","au-textarea","au-dropdown","au-radio","au-tab","au-chip","au-modal","au-confirm"]);for(let X of $){let _=X.tagName.toLowerCase(),R=Q.has(_),S=h(X);if(J&&!S)continue;if(K&&!R)continue;let D=X.getBoundingClientRect();Y.push({tag:_,id:X.id||null,label:U(X),description:x(X),state:j(X),actions:f(X),rect:{top:Math.round(D.top),left:Math.round(D.left),width:Math.round(D.width),height:Math.round(D.height)},interactive:R,visible:S})}return Y}function M(z){let H=typeof z==="string"?document.querySelector(z):z;if(!H)return null;return x(H)}function E(){let z=new Map,H=["au-button","au-input","au-textarea","au-checkbox","au-switch","au-dropdown","au-option","au-radio","au-radio-group","au-chip","au-card","au-tabs","au-tab","au-alert","au-badge","au-progress","au-avatar","au-skeleton","au-spinner","au-modal","au-toast","au-tooltip","au-icon","au-stack","au-grid","au-container","au-navbar","au-sidebar","au-divider","au-theme-toggle","au-virtual-list","au-lazy","au-repeat","au-form","au-table","au-confirm","au-fetch"];for(let J of H){let K=customElements.get(J);if(K)z.set(J,K)}return z}function I(z,H=document.body){let J=z.toLowerCase();return P(H).filter((W)=>W.label.toLowerCase().includes(J)).map((W)=>{let $=W.id?`#${W.id}`:`${W.tag}`;return H.querySelector($)}).filter(Boolean)}if(!q.hasListeners(Z.TOAST_SHOW))q.on(Z.TOAST_SHOW,(z)=>{y.show(z.message,z)});if(typeof window<"u"&&!window.AgentUI){window.AgentUI={Theme:F,bus:q,UIEvents:Z,showToast:V,getAuComponentTree:P,describeComponent:M,findByLabel:I,getRegisteredComponents:E,auConfirm:T,ready:!1,async discoverAll(){if(!G._describeCatalog)await this.loadDescriptions();let H={},J=["au-button","au-input","au-textarea","au-card","au-modal","au-alert","au-toast","au-checkbox","au-switch","au-radio","au-dropdown","au-tabs","au-tab","au-chip","au-badge","au-avatar","au-progress","au-spinner","au-skeleton","au-tooltip","au-table","au-datatable","au-form","au-stack","au-grid","au-container","au-divider","au-drawer","au-sidebar","au-navbar","au-bottom-nav","au-layout","au-router","au-page","au-theme-toggle","au-splash","au-virtual-list","au-lazy","au-repeat","au-fetch","au-confirm","au-schema-form","au-prompt-ui","au-error-boundary","au-code","au-callout","au-icon","au-api-table","au-example","au-doc-page"];for(let K of J){let W=customElements.get(K);if(W?.describe)H[K]=W.describe()}return H},async loadDescriptions(){if(G._describeCatalog)return;let H=document.querySelectorAll("script[src]"),J="";for(let W of H)if(W.src.includes("agentui")||W.src.includes("chunks")){if(J=W.src.substring(0,W.src.lastIndexOf("/")+1),J.includes("/chunks/"))J=J.replace("/chunks/","/");break}let K=J+"describe-catalog.json";try{let W=await fetch(K);if(W.ok)G._describeCatalog=await W.json()}catch(W){if(window.AGENTUI_DEBUG)console.warn("[AgentUI] Could not load describe catalog from",K)}}};let z=()=>{if(window.AGENTUI_DEBUG)console.log("[AgentUI] All components registered, emitting au-ready");window.AgentUI.ready=!0,document.dispatchEvent(new CustomEvent("au-ready",{detail:{timestamp:Date.now()}}))};if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",z,{once:!0});else setTimeout(z,0)}export{p as yieldToMain,v as transitionNamed,N as transition,r as throttle,O as supportsViewTransitions,u as supportsScheduler,V as showToast,i as scheduler,d as scheduleTask,c as runImmediate,m as runBackground,b as processWithYield,a as processInChunks,A as navigateWithTransition,o as memo,l as domBatch,B as define,n as debounce,s as createVisibilityObserver,C as createRipple,q as bus,k as attachRipple,Z as UIEvents,F as Theme,g as RippleMixin,L as AuThemeToggle,G as AuElement};
