import{a as g,b as u,c as d}from"./chunk-p10c1k6w.js";import{f as F,g as $,h as x,i as R,j as b,k as p,l as m,m as c,n as i,o,q as A,s as f}from"./chunk-4ckaq28h.js";import{A as e,u as n,v as r,w as l,x as s,y as a,z as t}from"./chunk-p1wb5tk8.js";import{B as Q,C as P}from"./chunk-pxdnzf1r.js";var G={set(z){if(z==="auto"){let J=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",J?"dark":"light")}else document.documentElement.setAttribute("data-theme",z);localStorage.setItem("au-theme",z),F.emit($.THEME_CHANGE,{theme:z})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let z=this.get();this.set(z==="dark"?"light":"dark")},init(){let z=localStorage.getItem("au-theme");if(z)this.set(z);else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(J)=>{if(localStorage.getItem("au-theme")==="auto")document.documentElement.setAttribute("data-theme",J.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null}};if(typeof window<"u")G.init();function B(z={}){let J={...z},W=new Set;return{get(){return J},set(K){J={...J,...K},this.notify()},update(K){let X=K(J);this.set(X)},subscribe(K){return W.add(K),K(J),()=>W.delete(K)},notify(){for(let K of W)K(J)},reset(){J={...z},this.notify()}}}var L=B({});var N="startViewTransition"in document;async function H(z){if(N)await document.startViewTransition(async()=>{await z()}).finished;else await z()}async function y(z,{name:J="page"}={}){if(N){let W=document.createElement("style");W.textContent=`
            ::view-transition-old(${J}),
            ::view-transition-new(${J}) {
                animation-duration: 0.3s;
            }
        `,document.head.appendChild(W),await H(z),W.remove()}else await z()}async function C(z,J){await H(()=>{window.history.pushState({},"",z),J()})}class V extends Q{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>G.toggle()),F.on($.THEME_CHANGE,()=>this.#z())}render(){this.innerHTML=`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#z()}#z(){let z=G.get()==="dark",J=this.querySelector(".au-theme-toggle__icon");if(J)J.textContent=z?"☀️":"\uD83C\uDF19"}}P("au-theme-toggle",V);R("au-theme-toggle",{signals:[$.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});function I(z){let J=z.getAttribute("aria-labelledby");if(J){let Y=J.split(" ").map((D)=>document.getElementById(D)?.textContent).filter(Boolean).join(" ");if(Y)return Y}let W=z.getAttribute("aria-label");if(W)return W;if(z.id){let Y=document.querySelector(`label[for="${z.id}"]`);if(Y)return Y.textContent.trim()}let K=z.getAttribute("title");if(K)return K;let X=z.getAttribute("role")||z.tagName.toLowerCase();if(["button","link","tab","menuitem","option","radio","checkbox"].some((Y)=>X.includes(Y))){let Y=z.textContent?.trim();if(Y&&Y.length<100)return Y}let Z=z.getAttribute("placeholder");if(Z)return Z;let _=z.getAttribute("value");if(_&&z.tagName.includes("INPUT"))return`Input: ${_}`;return z.tagName.toLowerCase().replace("au-","")}function h(z){let J=[],W=z.tagName.toLowerCase();if(z.hasAttribute("disabled"))return["none (disabled)"];if(z.onclick||z.hasAttribute("onclick"))J.push("click");switch(W){case"au-button":J.push("click");break;case"au-checkbox":case"au-switch":J.push("toggle","check","uncheck");break;case"au-input":case"au-textarea":J.push("type","clear","focus");break;case"au-dropdown":J.push("open","select","close");break;case"au-modal":J.push("open","close");break;case"au-tabs":J.push("select-tab");break;case"au-radio":J.push("select");break;case"au-chip":J.push("toggle","click");break;case"au-confirm":J.push("confirm","cancel");break;default:if(z.classList.contains("au-button")||z.getAttribute("role")==="button")J.push("click")}return J.length?J:["focus"]}function M(z){let J={},W=z.tagName.toLowerCase();if(z.hasAttribute("checked"))J.checked=!0;if(z.hasAttribute("disabled"))J.disabled=!0;if(z.hasAttribute("open"))J.open=!0;if(z.hasAttribute("selected"))J.selected=!0;if(z.hasAttribute("active"))J.active=!0;if(z.hasAttribute("loading"))J.loading=!0;if(z.hasAttribute("value"))J.value=z.getAttribute("value");let K=z.getAttribute("aria-checked");if(K)J.ariaChecked=K==="true";let X=z.getAttribute("aria-expanded");if(X)J.expanded=X==="true";let q=z.getAttribute("aria-selected");if(q)J.selected=q==="true";switch(W){case"au-input":case"au-textarea":let Z=z.querySelector("input, textarea");if(Z)J.value=Z.value,J.placeholder=Z.placeholder;break;case"au-progress":J.value=parseFloat(z.getAttribute("value")||"0"),J.max=parseFloat(z.getAttribute("max")||"100"),J.percentage=J.value/J.max*100;break;case"au-dropdown":J.value=z.getAttribute("value"),J.open=z.classList.contains("is-open");break}return J}function T(z){let J=z.tagName.toLowerCase().replace("au-",""),W=I(z),K=M(z),X=K.disabled?" (disabled)":"",Z={button:()=>`Button "${W}"${X}. ${K.loading?"Currently loading.":"Click to activate."}`,checkbox:()=>`Checkbox "${W}"${X}. Currently ${K.ariaChecked||K.checked?"checked":"unchecked"}.`,switch:()=>`Toggle switch "${W}"${X}. Currently ${K.ariaChecked||K.checked?"on":"off"}.`,input:()=>`Text input "${W}"${X}. ${K.value?`Current value: "${K.value}"`:"Empty."} ${K.placeholder?`Placeholder: "${K.placeholder}"`:""}`,textarea:()=>`Text area "${W}"${X}. ${K.value?`Contains: "${K.value.slice(0,50)}${K.value.length>50?"...":""}"`:"Empty."}`,dropdown:()=>`Dropdown "${W}"${X}. ${K.value?`Selected: "${K.value}"`:"No selection."} ${K.open?"Menu is open.":"Menu is closed."}`,modal:()=>`Modal dialog${K.open?" (currently open)":" (currently closed)"}. ${W!=="modal"?`Title: "${W}"`:""}`,tabs:()=>`Tab navigation with ${z.querySelectorAll("au-tab").length} tabs.`,tab:()=>`Tab "${W}". ${K.active?"Currently active.":"Inactive."}`,progress:()=>`Progress bar at ${Math.round(K.percentage||0)}%.`,spinner:()=>"Loading spinner indicating operation in progress.",alert:()=>`Alert message: "${z.textContent?.trim().slice(0,100)||W}"`,card:()=>`Card container${W!=="card"?` titled "${W}"`:""}.`,chip:()=>`Chip "${W}"${X}. ${K.selected?"Selected.":"Not selected."}`,badge:()=>`Badge showing "${z.textContent?.trim()||"notification"}"`,avatar:()=>`User avatar${z.getAttribute("name")?` for "${z.getAttribute("name")}"`:""}`,icon:()=>`Icon: ${z.getAttribute("name")||"decorative"}`,confirm:()=>`Confirmation dialog. ${K.open?"Waiting for user response.":"Hidden."}`,fetch:()=>`Data fetcher${K.loading?" (loading)":""}. URL: ${z.getAttribute("url")||"not set"}`}[J];if(Z)return Z();return`${J} component${W?` "${W}"`:""}${X}.`}function k(z){let J=z.getBoundingClientRect();return J.top<window.innerHeight&&J.bottom>0&&J.left<window.innerWidth&&J.right>0&&J.width>0&&J.height>0}function U(z=document.body,J={}){let{visibleOnly:W=!1,interactiveOnly:K=!1,types:X=null}=J,q;if(X)q=z.querySelectorAll(X.join(","));else q=Array.from(z.querySelectorAll("*")).filter((Y)=>Y.tagName.toLowerCase().startsWith("au-")&&Y.tagName.toLowerCase()!=="au-ripple-wave");let Z=[],_=new Set(["au-button","au-checkbox","au-switch","au-input","au-textarea","au-dropdown","au-radio","au-tab","au-chip","au-modal","au-confirm"]);for(let Y of q){let D=Y.tagName.toLowerCase(),j=_.has(D),w=k(Y);if(W&&!w)continue;if(K&&!j)continue;let O=Y.getBoundingClientRect();Z.push({tag:D,id:Y.id||null,label:I(Y),description:T(Y),state:M(Y),actions:h(Y),rect:{top:Math.round(O.top),left:Math.round(O.left),width:Math.round(O.width),height:Math.round(O.height)},interactive:j,visible:w})}return Z}function E(z){let J=typeof z==="string"?document.querySelector(z):z;if(!J)return null;return T(J)}function S(){let z=new Map,J=["au-button","au-input","au-textarea","au-checkbox","au-switch","au-dropdown","au-option","au-radio","au-radio-group","au-chip","au-card","au-tabs","au-tab","au-alert","au-badge","au-progress","au-avatar","au-skeleton","au-spinner","au-modal","au-toast","au-tooltip","au-icon","au-stack","au-grid","au-container","au-navbar","au-sidebar","au-divider","au-theme-toggle","au-virtual-list","au-lazy","au-repeat","au-form","au-table","au-confirm","au-fetch"];for(let W of J){let K=customElements.get(W);if(K)z.set(W,K)}return z}function v(z,J=document.body){let W=z.toLowerCase();return U(J).filter((X)=>X.label.toLowerCase().includes(W)).map((X)=>{let q=X.id?`#${X.id}`:`${X.tag}`;return J.querySelector(q)}).filter(Boolean)}if(!F.hasListeners($.TOAST_SHOW))F.on($.TOAST_SHOW,(z)=>{A.show(z.message,z)});if(typeof window<"u"&&!window.AgentUI){window.AgentUI={Theme:G,bus:F,UIEvents:$,showToast:x,createStore:B,appStore:L,getAuComponentTree:U,describeComponent:E,findByLabel:v,getRegisteredComponents:S,auConfirm:f,ready:!1,async discoverAll(){if(!Q._describeCatalog)await this.loadDescriptions();let J={},W=["au-button","au-input","au-textarea","au-card","au-modal","au-alert","au-toast","au-checkbox","au-switch","au-radio","au-dropdown","au-tabs","au-tab","au-chip","au-badge","au-avatar","au-progress","au-spinner","au-skeleton","au-tooltip","au-table","au-datatable","au-form","au-stack","au-grid","au-container","au-divider","au-drawer","au-sidebar","au-navbar","au-bottom-nav","au-layout","au-router","au-page","au-theme-toggle","au-splash","au-virtual-list","au-lazy","au-repeat","au-fetch","au-confirm","au-schema-form","au-prompt-ui","au-error-boundary","au-code","au-callout","au-icon","au-api-table","au-example","au-doc-page"];for(let K of W){let X=customElements.get(K);if(X?.describe)J[K]=X.describe()}return J},async loadDescriptions(){if(Q._describeCatalog)return;let J=document.querySelectorAll("script[src]"),W="";for(let X of J)if(X.src.includes("agentui")||X.src.includes("chunks")){if(W=X.src.substring(0,X.src.lastIndexOf("/")+1),W.includes("/chunks/"))W=W.replace("/chunks/","/");break}let K=W+"describe-catalog.json";try{let X=await fetch(K);if(X.ok)Q._describeCatalog=await X.json()}catch(X){if(window.AGENTUI_DEBUG)console.warn("[AgentUI] Could not load describe catalog from",K)}}};let z=()=>{if(window.AGENTUI_DEBUG)console.log("[AgentUI] All components registered, emitting au-ready");window.AgentUI.ready=!0,document.dispatchEvent(new CustomEvent("au-ready",{detail:{timestamp:Date.now()}}))};if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",z,{once:!0});else setTimeout(z,0)}export{m as yieldToMain,y as transitionNamed,H as transition,s as throttle,N as supportsViewTransitions,b as supportsScheduler,x as showToast,n as scheduler,p as scheduleTask,o as runImmediate,i as runBackground,c as processWithYield,e as processInChunks,C as navigateWithTransition,r as memo,t as domBatch,P as define,l as debounce,a as createVisibilityObserver,B as createStore,g as createRipple,F as bus,u as attachRipple,L as appStore,$ as UIEvents,G as Theme,d as RippleMixin,V as AuThemeToggle,Q as AuElement};
