import{d as _,e as g,f as w}from"./chunk-r9r0s0qh.js";import{g as y}from"./chunk-tkfnkwax.js";import{j as m,k as f,n as A}from"./chunk-eqmf7npt.js";function H(e,a={}){let n=a.persist?`agentui:${a.persist}`:null,u={...e},o=/*@__PURE__*/new Map,d=/*@__PURE__*/new Set,p=!1,h=/*@__PURE__*/new Map;if(n)try{let i=typeof localStorage<"u"?localStorage.getItem(n):null;if(i){let t=JSON.parse(i);if(t&&typeof t==="object"){for(let s of Object.keys(e))if(s in t){let r=e[s],l=t[s];if(r===null||r===void 0)u[s]=l;else if(Array.isArray(r)){if(Array.isArray(l))u[s]=l}else if(typeof l===typeof r)u[s]=l}}}}catch(i){}function k(i,t,s){let r=o.get(i);if(r)for(let l of r)l(t,s);for(let l of d)l(i,t,s)}function C(){if(!n)return;try{if(typeof localStorage<"u")localStorage.setItem(n,JSON.stringify(u))}catch(i){}}let M=/*@__PURE__*/new Set(["__proto__","constructor","prototype"]),v=new Proxy(u,{get(i,t){return i[t]},set(i,t,s){if(M.has(t))return console.warn(`[AgentUI Store] Blocked dangerous key: "${String(t)}"`),!0;let r=i[t];if(Object.is(r,s))return!0;if(i[t]=s,p){if(!h.has(t))h.set(t,{oldVal:r});h.get(t).newVal=s}else k(t,s,r),C();return!0}});return{state:v,subscribe(i,t){if(i==="*")return d.add(t),()=>d.delete(t);if(!o.has(i))o.set(i,/*@__PURE__*/new Set);return o.get(i).add(t),()=>{let s=o.get(i);if(s){if(s.delete(t),s.size===0)o.delete(i)}}},batch(i){p=!0,h.clear();try{i()}finally{p=!1;for(let[t,{newVal:s,oldVal:r}]of h)if(!Object.is(s,r))k(t,s,r);h.clear(),C()}},getState(){return{...u}},setState(i){for(let[t,s]of Object.entries(i))v[t]=s},destroy(){o.clear(),d.clear()}}}var c=H({current:"light",preference:"auto"},{persist:"au-theme"}),b={set(e){if(e==="auto"){let a=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",a?"dark":"light")}else document.documentElement.setAttribute("data-theme",e);c.state.preference=e,c.state.current=document.documentElement.getAttribute("data-theme"),_.emit(g.THEME_CHANGE,{theme:e})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let e=this.get();this.set(e==="dark"?"light":"dark")},init(){let e=typeof localStorage<"u"?localStorage.getItem("au-theme"):null;if(e&&c.state.preference==="auto"){this.set(e);try{localStorage.removeItem("au-theme")}catch(n){}return}let a=c.state.preference;if(a&&a!=="auto")this.set(a);else if(e){this.set(e);try{localStorage.removeItem("au-theme")}catch(n){}}else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(n)=>{if(c.state.preference==="auto")document.documentElement.setAttribute("data-theme",n.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null},get _store(){return c}};if(typeof window<"u")b.init();class S extends m{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>b.toggle()),_.on(g.THEME_CHANGE,()=>this.#e())}render(){this.innerHTML=A`<button class="au-theme-toggle__button" aria-label="Toggle theme"> <span class="au-theme-toggle__icon"></span> </button>`,this.#e()}#e(){let e=b.get()==="dark",a=this.querySelector(".au-theme-toggle__icon");if(a)a.textContent=e?"☀️":"\uD83C\uDF19"}}f("au-theme-toggle",S);w("au-theme-toggle",{signals:[g.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});class E extends m{static get observedAttributes(){return["hide-on-desktop","value"]}static baseClass="au-bottom-nav";static cssFile="bottom-nav";static useContainment=!1;constructor(){super();this._unsubscribe=null}get hideOnDesktop(){return this.hasAttribute("hide-on-desktop")}set hideOnDesktop(e){this.toggleAttribute("hide-on-desktop",Boolean(e))}get value(){return this.getAttribute("value")||""}set value(e){this.setAttribute("value",e)}connectedCallback(){if(!this._childrenCaptured)this._userChildren=Array.from(this.children),this._childrenCaptured=!0;super.connectedCallback(),this._setupBreakpointListener(),this._setupListeners(),this._updateVisibility()}disconnectedCallback(){if(super.disconnectedCallback(),this._unsubscribe)this._unsubscribe(),this._unsubscribe=null}attributeChangedCallback(e,a,n){if(!this.isConnected)return;if(e==="hide-on-desktop")this._updateVisibility()}_setupBreakpointListener(){if(this.hideOnDesktop)this._unsubscribe=y.subscribe(()=>{this._updateVisibility()})}_updateVisibility(){if(this.hideOnDesktop&&y.isNotCompact)this.style.display="none";else this.style.display=""}_setupListeners(){this.listen(this,"au-nav-select",(e)=>{this._updateActiveItem(e.detail.item),this.value=e.detail.href||"",this.emit("au-change",{value:this.value,item:e.detail.item},{bubbles:!0})})}_updateActiveItem(e){this.querySelectorAll("au-nav-item, au-drawer-item").forEach((a)=>{a.active=a===e})}render(){let e=document.createElement("nav");if(e.className="au-bottom-nav-nav",e.setAttribute("role","menu"),e.setAttribute("aria-label","Bottom navigation"),this.innerHTML="",this.appendChild(e),this._userChildren)this._userChildren.forEach((a)=>e.appendChild(a))}}f("au-bottom-nav",E);
