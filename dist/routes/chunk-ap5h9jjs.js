import{j as c,k as p}from"./chunk-j7wcbqec.js";var o=typeof window<"u"?window:globalThis,S=["ui:toast","ui:modal","ui:theme","ui:tabs","ui:dropdown","ui:form","ui:grid","ui:stack","ui:virtual-list"],g={type:"ui-framework",version:"0.1.116",description:"AI-Optimized UI Framework - Web Components Edition"};class m{#t=new Map;#e=new Map;#s=new Set;#i=new Set;#a=100;#r=!1;#n=Date.now();peerId;capabilities;meta;constructor(t={}){this.peerId=t.peerId??"default",this.capabilities=t.capabilities??[],this.meta=t.meta??{},this.#r=t.debug??!1}on(t,e){if(!this.#t.has(t))this.#t.set(t,new Set);let i=e;this.#t.get(t).add(i);let s=this.#t.get(t).size;if(s>this.#a)console.warn(`[AgentUI] Possible event leak: "${t}" has ${s} listeners (maxListeners: ${this.#a}). Use setMaxListeners() to increase.`);return{unsubscribe:()=>this.#t.get(t)?.delete(i)}}off(t,e){this.#t.get(t)?.delete(e)}emitSync(t,e){let i={event:t,data:e};for(let r of this.#i)i=r(i,{event:t})??i;let s=this.#t.get(t);if(s)for(let r of s){let n=i;for(let h of this.#s)n=h(n,{event:t})??n;r(n)}for(let[r,n]of this.#t)if(r.endsWith("*")&&t.startsWith(r.slice(0,-1))&&r!==t)for(let h of n)h(i)}async emit(t,e){return this.emitSync(t,e),{delivered:!0,event:t}}signal(t,e){this.emitSync(t,e)}hasListeners(t){return(this.#t.get(t)?.size??0)>0}handle(t,e){return this.#e.set(t,e),{unsubscribe:()=>this.#e.delete(t)}}unhandle(t){this.#e.delete(t)}async request(t,e,i){let s=this.#e.get(e);if(!s)throw Error(`No handler for '${e}'`);return s(i)}async broadcastRequest(t,e){return this.request(this.peerId,t,e)}addInboundHook(t){return this.#s.add(t),()=>this.#s.delete(t)}addOutboundHook(t){return this.#i.add(t),()=>this.#i.delete(t)}setMaxListeners(t){this.#a=t}get debug(){return this.#r}get peers(){return[]}get peerCount(){return 0}healthCheck(){return{status:"healthy",peerId:this.peerId,uptime:Date.now()-this.#n,listeners:this.#t.size,handlers:this.#e.size}}destroy(){this.#t.clear(),this.#e.clear(),this.#s.clear(),this.#i.clear()}}if(!o.__AGENTUI_BUS__)o.__AGENTUI_BUS__=new m({peerId:"agentui",capabilities:S,meta:g});var a=o.__AGENTUI_BUS__,d="__AGENTUI_COMPONENT_REGISTRY__";if(!o[d])o[d]=new Map;var T=o[d],l={on(t,e){let i=a.on(t,(s)=>{e(s.data??s)});return()=>i.unsubscribe()},once(t,e){let i=this.on(t,(s)=>{i(),e(s)})},off(t,e){a.off(t,e)},emit(t,e){return a.emitSync(t,e)},async emitAsync(t,e){return a.emit(t,e)},signal(t,e){a.signal(t,e)},async request(t,e,i){return a.request(t,e,i)},async broadcastRequest(t,e){return a.broadcastRequest(t,e)},handle(t,e){return a.handle(t,e)},unhandle(t){a.unhandle(t)},destroy(){a.destroy()},setMaxListeners(t){a.setMaxListeners(t)},get peerId(){return a.peerId},get peers(){return a.peers},get peerCount(){return a.peerCount},hasListeners(t){return a.hasListeners(t)},get raw(){return a}},u={TOAST_SHOW:"ui:toast:show",TOAST_DISMISS:"ui:toast:dismiss",MODAL_OPEN:"ui:modal:open",MODAL_CLOSE:"ui:modal:close",THEME_CHANGE:"ui:theme:change",TAB_CHANGE:"ui:tab:change",DROPDOWN_SELECT:"ui:dropdown:select",FORM_SUBMIT:"ui:form:submit",FORM_VALIDATE:"ui:form:validate"},f=(t,e)=>{T.set(t,{...e,registeredAt:Date.now()})};class b extends c{static baseClass="au-toast";static cssFile=null;static observedAttributes=["severity","duration","position"];#t=null;#e=null;connectedCallback(){if(!this.#e&&!this.querySelector(".au-toast__content"))this.#e=this.innerHTML;super.connectedCallback(),this.listen(this,"click",(e)=>{if(e.target.classList.contains("au-toast__close"))this.dismiss()});let t=parseInt(this.attr("duration","3000"));if(t>0)this.#t=this.setTimeout(()=>this.dismiss(),t)}disconnectedCallback(){super.disconnectedCallback()}render(){if(this.querySelector(".au-toast__content")){this.#s();return}let t=this.#e||"";this.innerHTML=`
            <span class="au-toast__content">${t}</span>
            <button class="au-toast__close" aria-label="Dismiss">âœ•</button>
        `,this.#s()}update(t,e,i){this.#s()}#s(){let t=this.attr("severity","info"),e=this.attr("position","bottom-center"),i=["au-toast",`au-toast--${t}`,`au-toast--${e}`];i.forEach((s)=>this.classList.add(s)),Array.from(this.classList).forEach((s)=>{if(s.startsWith("au-toast--")&&!i.includes(s))this.classList.remove(s)})}dismiss(){this.emit("au-dismiss"),this.classList.add("is-exiting");let t=!1,e=()=>{if(!t)t=!0,this.remove()};this.addEventListener("animationend",e,{once:!0}),this.setTimeout(e,200)}}p("au-toast",b);class _ extends c{static baseClass="au-toast-container";connectedCallback(){super.connectedCallback(),this.setAttribute("role","status"),this.setAttribute("aria-live","polite")}}p("au-toast-container",_);var w={show(t,e={}){let i=e.position||"bottom-center",s=document.querySelector(`au-toast-container[position="${i}"]`);if(!s)s=document.createElement("au-toast-container"),s.setAttribute("position",i),document.body.appendChild(s);let r=document.createElement("au-toast");if(r.textContent=t,e.severity)r.setAttribute("severity",e.severity);if(e.duration)r.setAttribute("duration",e.duration.toString());return s.appendChild(r),r}};if(typeof window<"u"&&l&&!l.hasListeners(u.TOAST_SHOW))l.on(u.TOAST_SHOW,(t)=>{w.show(t.message,t)});f("au-toast",{signals:[u.TOAST_SHOW,u.TOAST_DISMISS],options:{severities:["info","success","warning","error"],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],defaultDuration:3000},description:"MD3 Snackbar/Toast Notification component"});
export{l as d,u as e,f};
