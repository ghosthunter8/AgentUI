import{d as _,e as g,f as E}from"./chunk-nc8x38kw.js";import{g as k}from"./chunk-nhya61pd.js";import{i as d,j as m,m as A}from"./chunk-hrpjr0h8.js";function M(e,a={}){let r=a.persist?`agentui:${a.persist}`:null,h={...e},n=new Map,c=new Set,f=!1,o=new Map;if(r)try{let i=typeof localStorage<"u"?localStorage.getItem(r):null;if(i){let t=JSON.parse(i);if(t&&typeof t==="object"){for(let s of Object.keys(e))if(s in t)h[s]=t[s]}}}catch(i){}function C(i,t,s){let l=n.get(i);if(l)for(let p of l)p(t,s);for(let p of c)p(i,t,s)}function v(){if(!r)return;try{if(typeof localStorage<"u")localStorage.setItem(r,JSON.stringify(h))}catch(i){}}let y=new Proxy(h,{get(i,t){return i[t]},set(i,t,s){let l=i[t];if(Object.is(l,s))return!0;if(i[t]=s,f){if(!o.has(t))o.set(t,{oldVal:l});o.get(t).newVal=s}else C(t,s,l),v();return!0}});return{state:y,subscribe(i,t){if(i==="*")return c.add(t),()=>c.delete(t);if(!n.has(i))n.set(i,new Set);return n.get(i).add(t),()=>{let s=n.get(i);if(s){if(s.delete(t),s.size===0)n.delete(i)}}},batch(i){f=!0,o.clear();try{i()}finally{f=!1;for(let[t,{newVal:s,oldVal:l}]of o)if(!Object.is(s,l))C(t,s,l);if(o.clear(),o.size===0)v()}},getState(){return{...h}},setState(i){for(let[t,s]of Object.entries(i))y[t]=s},destroy(){n.clear(),c.clear()}}}var u=M({current:"light",preference:"auto"},{persist:"au-theme"}),b={set(e){if(e==="auto"){let a=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",a?"dark":"light")}else document.documentElement.setAttribute("data-theme",e);u.state.preference=e,u.state.current=document.documentElement.getAttribute("data-theme"),_.emit(g.THEME_CHANGE,{theme:e})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let e=this.get();this.set(e==="dark"?"light":"dark")},init(){let e=typeof localStorage<"u"?localStorage.getItem("au-theme"):null;if(e&&!u.state.preference){this.set(e);try{localStorage.removeItem("au-theme")}catch(r){}return}let a=u.state.preference;if(a&&a!=="auto")this.set(a);else if(e){this.set(e);try{localStorage.removeItem("au-theme")}catch(r){}}else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(r)=>{if(u.state.preference==="auto")document.documentElement.setAttribute("data-theme",r.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null},get _store(){return u}};if(typeof window<"u")b.init();class w extends d{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>b.toggle()),_.on(g.THEME_CHANGE,()=>this.#e())}render(){this.innerHTML=A`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#e()}#e(){let e=b.get()==="dark",a=this.querySelector(".au-theme-toggle__icon");if(a)a.textContent=e?"☀️":"\uD83C\uDF19"}}m("au-theme-toggle",w);E("au-theme-toggle",{signals:[g.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});class S extends d{static get observedAttributes(){return["hide-on-desktop","value"]}static baseClass="au-bottom-nav";static cssFile="bottom-nav";static useContainment=!1;constructor(){super();this._unsubscribe=null}get hideOnDesktop(){return this.hasAttribute("hide-on-desktop")}set hideOnDesktop(e){this.toggleAttribute("hide-on-desktop",Boolean(e))}get value(){return this.getAttribute("value")||""}set value(e){this.setAttribute("value",e)}connectedCallback(){if(!this._childrenCaptured)this._userChildren=Array.from(this.children),this._childrenCaptured=!0;super.connectedCallback(),this._setupBreakpointListener(),this._setupListeners(),this._updateVisibility()}disconnectedCallback(){if(super.disconnectedCallback(),this._unsubscribe)this._unsubscribe(),this._unsubscribe=null}attributeChangedCallback(e,a,r){if(!this.isConnected)return;if(e==="hide-on-desktop")this._updateVisibility()}_setupBreakpointListener(){if(this.hideOnDesktop)this._unsubscribe=k.subscribe(()=>{this._updateVisibility()})}_updateVisibility(){if(this.hideOnDesktop&&k.isNotCompact)this.style.display="none";else this.style.display=""}_setupListeners(){this.listen(this,"au-nav-select",(e)=>{this._updateActiveItem(e.detail.item),this.value=e.detail.href||"",this.emit("au-change",{value:this.value,item:e.detail.item},{bubbles:!0})})}_updateActiveItem(e){this.querySelectorAll("au-nav-item, au-drawer-item").forEach((a)=>{a.active=a===e})}render(){let e=document.createElement("nav");if(e.className="au-bottom-nav-nav",e.setAttribute("role","menu"),e.setAttribute("aria-label","Bottom navigation"),this.innerHTML="",this.appendChild(e),this._userChildren)this._userChildren.forEach((a)=>e.appendChild(a))}}m("au-bottom-nav",S);
