import"./chunk-s5k67rg5.js";import"./chunk-zn78twyh.js";import"./chunk-4k4s593s.js";import"./chunk-4j1wr5t0.js";import"./chunk-x1rv21yw.js";import"./chunk-tkfnkwax.js";import"./chunk-ae6bkfs5.js";import"./chunk-gwaw886s.js";import"./chunk-x9m15qkh.js";import"./chunk-0evd6f9w.js";import"./chunk-gb3z8ds6.js";var Y=/^(save|submit|confirm|send|create|add|apply|ok|yes)$/,X=/^(cancel|close|dismiss|no|nevermind)$/,Z=/^(delete|remove|clear|trash)$/,j=/^(back|next|previous|forward|continue)$/;class d extends HTMLElement{static observedAttributes=[];static baseClass="";static cssFile=null;static _loadedCSS=/*@__PURE__*/new Set;static _bundleChecked=!1;static _bundleLoaded=!1;static _agentLoggerInitialized=!1;static useContainment=!0;static describe(){let e=this.baseClass||this.name.replace(/^Au/,"au-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t=d._describeCatalog?.[e]||{name:e,props:this.observedAttributes||[],baseClass:this.baseClass||"",cssFile:this.cssFile||null},i=typeof document<"u"?Array.from(document.querySelectorAll(e)):[];return{...t,runtime:{registered:typeof customElements<"u"&&!!customElements.get(e),version:"0.1.147",instanceCount:i.length,instances:i.slice(0,5).map((s)=>{let a={id:s.id||null};if("value"in s&&s.value!==void 0)a.value=s.value;if("checked"in s&&s.checked!==void 0)a.checked=s.checked;if(typeof s.offsetParent<"u")a.visible=s.offsetParent!==null;return a})}}}static _describeCatalog=null;_rendered=!1;_abortController=null;_timers=/*@__PURE__*/new Set;_intervals=/*@__PURE__*/new Set;isReady=!1;_readyResolve=null;ready=new Promise((e)=>{this._readyResolve=e});constructor(){super();if(!d._agentLoggerInitialized)d._agentLoggerInitialized=!0,this._initAgentLogger()}_initAgentLogger(){if(!window.__AGENTUI_ERRORS__)window.__AGENTUI_ERRORS__=[];if(!window.AgentUIAgent)window.AgentUIAgent={reset:()=>{window.__AGENTUI_ERRORS__=[]},getErrors:()=>window.__AGENTUI_ERRORS__,hasError:(e,t)=>{return window.__AGENTUI_ERRORS__.some((i)=>i.component===e.toLowerCase()&&i.code===t)}}}logError(e,t){let i={component:this.tagName.toLowerCase(),code:e,message:t,element:this,timestamp:Date.now()};window.__AGENTUI_ERRORS__.push(i),console.warn(`[AgentUI] ${e}: ${t}`,this)}connectedCallback(){if(!this._abortController)this._abortController=new AbortController;if(this.constructor.baseClass)this.classList.add(this.constructor.baseClass);if(this.constructor.useContainment&&!this.style.contain)this.style.contain="layout style";if(this.#e(),!this._rendered)this.render(),this._rendered=!0;if(this._loadComponentCSS(),this._inferSemanticAttributes(),!this.isReady){this.isReady=!0,this._readyResolve(this);try{this.dispatchEvent(new CustomEvent("au:ready",{bubbles:!0,composed:!0}))}catch(e){}}}#e(){this.listen(this,"click",(e)=>{let t=e.target.closest("[data-action]");if(!t||!this.contains(t))return;let i=t.dataset.action;if(this.handleAction)this.handleAction(i,t,e)})}_loadComponentCSS(){let e=this.constructor.cssFile;if(!e)return;if(!d._bundleChecked)d._bundleChecked=!0,d._bundleLoaded=!!document.querySelector('link[href*="agentui.css"], link[href*="agentui.min.css"]')||!!document.querySelector('link[href*="agentui-wc"]')||!!document.querySelector('link[href*="components.css"]')||!!document.querySelector("style[data-agentui]")||typeof getComputedStyle<"u"&&getComputedStyle(document.documentElement).getPropertyValue("--md-sys-color-primary").trim()!=="";if(d._bundleLoaded)return;if(d._loadedCSS.has(e))return;d._loadedCSS.add(e);let t=document.createElement("link");t.id=`au-css-${e}`,t.rel="stylesheet";let i="/styles/",s=document.querySelector('link[href*="/styles/"]');if(s){let a=s.href.match(/(.*\/(?:src\/|dist\/)?styles\/)/);if(a)i=a[1]}else{let a=document.querySelector('link[href*="/dist/"]');if(a){let n=a.href.match(/(.*\/dist\/)/);if(n)i=n[1]+"styles/"}else{let n=document.querySelector('script[src*="/src/"]');if(n){let c=n.src.match(/(.*\/src\/)/);if(c)i=c[1]+"styles/"}}}if(i.startsWith("http")||i.startsWith("//"))try{if(new URL(i,window.location.origin).origin!==window.location.origin)console.warn(`[AgentUI] Blocked cross-origin CSS path: ${i}`),i="/styles/"}catch{i="/styles/"}t.href=`${i}components/${e}.css`,document.head.appendChild(t)}_inferSemanticAttributes(){let e=this.tagName.toLowerCase();if(this.hasAttribute("data-au-action"))return;let t="",i="";switch(e){case"au-button":t=this._inferButtonAction(),i=this._inferButtonRole();break;case"au-input":case"au-textarea":t="input",i="text-field";break;case"au-checkbox":case"au-switch":t="toggle",i="control";break;case"au-dropdown":t="select",i="selector";break;case"au-modal":t="dialog",i="overlay";break;case"au-tabs":t="navigate",i="navigation";break;case"au-card":i="container";break}if(t)this.setAttribute("data-au-action",t);if(i)this.setAttribute("data-au-role",i)}_inferButtonAction(){let e=this.textContent?.toLowerCase().trim()||"";if(Y.test(e))return"submit";if(X.test(e))return"cancel";if(Z.test(e))return"delete";if(j.test(e))return"navigate";return"click"}_inferButtonRole(){let e=this.getAttribute("variant");if(e==="filled"||e==="elevated")return"primary-action";if(e==="tonal"||e==="outlined")return"secondary-action";if(e==="text")return"tertiary-action";if(e==="danger")return"destructive-action";return"action"}disconnectedCallback(){if(this._abortController)this._abortController.abort(),this._abortController=null;for(let e of this._timers)clearTimeout(e);this._timers.clear();for(let e of this._intervals)clearInterval(e);this._intervals.clear(),this.cleanup()}cleanup(){}attributeChangedCallback(e,t,i){if(t!==i&&this._rendered)this.update(e,i,t)}render(){}update(e,t,i){}setupEvents(){}attr(e,t=""){return this.getAttribute(e)??t}has(e){return this.hasAttribute(e)}emit(e,t={}){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:t}))}listen(e,t,i,s={}){if(!this._abortController)this._abortController=new AbortController;let a={...s,signal:this._abortController.signal};e.addEventListener(t,i,a)}setTimeout(e,t){let i;return i=setTimeout(()=>{this._timers.delete(i),e()},t),this._timers.add(i),i}setInterval(e,t){let i=setInterval(e,t);return this._intervals.add(i),i}setupActivation(e){this.updateTabindex(),this.listen(this,"keydown",(t)=>{if((t.key==="Enter"||t.key===" ")&&!this.has("disabled"))t.preventDefault(),e()})}updateTabindex(){this.setAttribute("tabindex",this.has("disabled")?"-1":"0")}setDisplay(e){this.style.display=e}get isDisabled(){return this.has("disabled")}}function y(e,t,i={}){if(customElements.get(e))return;let s=i.priority||"user-blocking";if(typeof scheduler<"u"&&scheduler.postTask)scheduler.postTask(()=>{if(!customElements.get(e))customElements.define(e,t)},{priority:s});else customElements.define(e,t)}function O(e){if(e==null)return"";return String(e).replace(/[&<>"']/g,(t)=>K[t])}var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};class S extends String{constructor(e){super(e==null?"":e)}}function x(e){return new S(e)}function v(e,...t){let i="";for(let s=0;s<e.length;s++)if(i+=e[s],s<t.length){let a=t[s];if(a instanceof S)i+=a;else if(Array.isArray(a))for(let n of a)if(n instanceof S)i+=n;else i+=O(n);else i+=O(a)}return new S(i)}var _=typeof window<"u"?window:globalThis,z=["ui:toast","ui:modal","ui:theme","ui:tabs","ui:dropdown","ui:form","ui:grid","ui:stack","ui:virtual-list"],ee={type:"ui-framework",version:"0.1.144",description:"AI-Optimized UI Framework - Web Components Edition"};class R{#e=/*@__PURE__*/new Map;#t=/*@__PURE__*/new Map;#i=/*@__PURE__*/new Map;#s=/*@__PURE__*/new Set;#a=/*@__PURE__*/new Set;#n=100;#r=!1;#o=Date.now();peerId;capabilities;meta;constructor(e={}){this.peerId=e.peerId??"default",this.capabilities=e.capabilities??[],this.meta=e.meta??{},this.#r=e.debug??!1}on(e,t){if(e.endsWith("*")){let a=e.slice(0,-1);if(!this.#t.has(a))this.#t.set(a,/*@__PURE__*/new Set);return this.#t.get(a).add(t),{unsubscribe:()=>this.#t.get(a)?.delete(t)}}if(!this.#e.has(e))this.#e.set(e,/*@__PURE__*/new Set);let i=t;this.#e.get(e).add(i);let s=this.#e.get(e).size;if(s>this.#n)console.warn(`[AgentUI] Possible event leak: "${e}" has ${s} listeners (maxListeners: ${this.#n}). Use setMaxListeners() to increase.`);return{unsubscribe:()=>this.#e.get(e)?.delete(i)}}off(e,t){if(e.endsWith("*")){let i=e.slice(0,-1);this.#t.get(i)?.delete(t);return}this.#e.get(e)?.delete(t)}emitSync(e,t){let i={event:e,data:t};for(let n of this.#a)i=n(i,{event:e})??i;let s=i;for(let n of this.#s)s=n(s,{event:e})??s;let a=this.#e.get(e);if(a)for(let n of a)n(s);for(let[n,c]of this.#t)if(e.startsWith(n))for(let r of c)r(s)}async emit(e,t){return this.emitSync(e,t),{delivered:!0,event:e}}signal(e,t){this.emitSync(e,t)}hasListeners(e){return(this.#e.get(e)?.size??0)>0}handle(e,t){return this.#i.set(e,t),{unsubscribe:()=>this.#i.delete(e)}}unhandle(e){this.#i.delete(e)}async request(e,t,i){let s=this.#i.get(t);if(!s)throw Error(`No handler for '${t}'`);return s(i)}async broadcastRequest(e,t){return this.request(this.peerId,e,t)}addInboundHook(e){return this.#s.add(e),()=>this.#s.delete(e)}addOutboundHook(e){return this.#a.add(e),()=>this.#a.delete(e)}setMaxListeners(e){this.#n=e}get debug(){return this.#r}get peers(){return[]}get peerCount(){return 0}healthCheck(){return{status:"healthy",peerId:this.peerId,uptime:Date.now()-this.#o,listeners:this.#e.size,handlers:this.#i.size}}destroy(){this.#e.clear(),this.#i.clear(),this.#s.clear(),this.#a.clear()}}if(!_.__AGENTUI_BUS__)_.__AGENTUI_BUS__=new R({peerId:"agentui",capabilities:z,meta:ee});var f=_.__AGENTUI_BUS__,I="__AGENTUI_COMPONENT_REGISTRY__";if(!_[I])_[I]=/*@__PURE__*/new Map;var te=_[I],w=/*@__PURE__*/new WeakMap,g={on(e,t){let i=(a)=>{t(a.data??a)};if(!w.has(t))w.set(t,/*@__PURE__*/new Map);w.get(t).set(e,i);let s=f.on(e,i);return()=>{s.unsubscribe(),w.get(t)?.delete(e)}},once(e,t){let i=this.on(e,(s)=>{i(),t(s)})},off(e,t){let i=w.get(t)?.get(e);if(i)f.off(e,i),w.get(t)?.delete(e)},emit(e,t){return f.emitSync(e,t)},async emitAsync(e,t){return f.emit(e,t)},signal(e,t){f.signal(e,t)},async request(e,t,i){return f.request(e,t,i)},async broadcastRequest(e,t){return f.broadcastRequest(e,t)},handle(e,t){return f.handle(e,t)},unhandle(e){f.unhandle(e)},destroy(){f.destroy()},setMaxListeners(e){f.setMaxListeners(e)},get peerId(){return f.peerId},get peers(){return f.peers},get peerCount(){return f.peerCount},hasListeners(e){return f.hasListeners(e)},get raw(){return f}},p={TOAST_SHOW:"ui:toast:show",TOAST_DISMISS:"ui:toast:dismiss",MODAL_OPEN:"ui:modal:open",MODAL_CLOSE:"ui:modal:close",THEME_CHANGE:"ui:theme:change",TAB_CHANGE:"ui:tab:change",DROPDOWN_SELECT:"ui:dropdown:select",FORM_SUBMIT:"ui:form:submit",FORM_VALIDATE:"ui:form:validate"},N=(e,t={})=>{g.emit(p.TOAST_SHOW,{message:e,...t})},M=(e,t)=>{te.set(e,{...t,registeredAt:Date.now()})},ie="scheduler"in globalThis;function se(){return new Promise((e)=>{requestAnimationFrame(()=>requestAnimationFrame(e))})}class H extends d{static baseClass="au-toast";static cssFile=null;static observedAttributes=["severity","duration","position"];#e=null;#t=null;connectedCallback(){if(!this.#t&&!this.querySelector(".au-toast__content"))this.#t=this.innerHTML;super.connectedCallback(),this.listen(this,"click",(t)=>{if(t.target.classList.contains("au-toast__close"))this.dismiss()});let e=parseInt(this.attr("duration","3000"));if(e>0)this.#e=this.setTimeout(()=>this.dismiss(),e)}disconnectedCallback(){super.disconnectedCallback()}render(){if(this.querySelector(".au-toast__content")){this.#i();return}let e=this.#t||"";this.innerHTML=v`<span class="au-toast__content">${x(e)}</span> <button class="au-toast__close" aria-label="Dismiss">✕</button>`,this.#i()}update(e,t,i){this.#i()}#i(){let e=this.attr("severity","info"),t=this.attr("position","bottom-center"),i=["au-toast",`au-toast--${e}`,`au-toast--${t}`];i.forEach((s)=>this.classList.add(s)),Array.from(this.classList).forEach((s)=>{if(s.startsWith("au-toast--")&&!i.includes(s))this.classList.remove(s)})}dismiss(){this.emit("au-dismiss"),this.classList.add("is-exiting");let e=!1,t=()=>{if(!e){e=!0;let i=this.parentElement;if(this.remove(),i?.tagName==="AU-TOAST-CONTAINER"&&i.children.length===0)i.remove()}};this.listen(this,"animationend",t,{once:!0}),this.setTimeout(t,200)}}y("au-toast",H);class U extends d{static baseClass="au-toast-container";connectedCallback(){super.connectedCallback(),this.setAttribute("role","status"),this.setAttribute("aria-live","polite")}}y("au-toast-container",U);var q={show(e,t={}){let i=t.position||"bottom-center",s=document.querySelector(`au-toast-container[position="${i}"]`);if(!s)s=document.createElement("au-toast-container"),s.setAttribute("position",i),document.body.appendChild(s);let a=document.createElement("au-toast");if(a.textContent=e,t.severity)a.setAttribute("severity",t.severity);if(t.duration)a.setAttribute("duration",t.duration.toString());return s.appendChild(a),a}};if(typeof window<"u"&&g&&!g.hasListeners(p.TOAST_SHOW))g.on(p.TOAST_SHOW,(e)=>{q.show(e.message,e)});M("au-toast",{signals:[p.TOAST_SHOW,p.TOAST_DISMISS],options:{severities:["info","success","warning","error"],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],defaultDuration:3000},description:"MD3 Snackbar/Toast Notification component"});class $ extends d{static baseClass="au-modal";static cssFile="overlays";static observedAttributes=["open","size"];#e=null;disconnectedCallback(){if(this.classList.contains("is-open"))document.body.style.overflow="";super.disconnectedCallback()}connectedCallback(){if(!this.hasAttribute("data-rendered"))this._userContent=this.innerHTML,this.setAttribute("data-rendered","true");super.connectedCallback(),this.#t()}render(){if(this.querySelector("dialog"))return;let e=this.attr("size","md"),t=this._userContent||"";this.innerHTML=v`<dialog class="au-modal__dialog au-modal--${e}"> <button class="au-modal__close" aria-label="Close">✕</button> <div class="au-modal__body">${x(t)}</div> </dialog>`,this.#e=this.querySelector("dialog")}#t(){if(this.#e=this.querySelector("dialog"),!this.#e)return;this.listen(this.#e,"close",()=>{this.removeAttribute("open"),this.classList.remove("is-open","is-visible"),document.body.style.overflow=""}),this.listen(this.#e,"cancel",(t)=>{t.preventDefault(),this.close()}),this.listen(this.#e,"click",(t)=>{if(t.target===this.#e)this.close()});let e=this.querySelector(".au-modal__close");if(e)this.listen(e,"click",()=>{this.close()})}update(e,t,i){if(e==="open"){if(t!==null)this.#i()}}#i(){if(!this.#e||this.#e.open)return;this.classList.add("is-open"),this.#e.showModal(),document.body.style.overflow="hidden",this.emit("au-open"),se().then(()=>this.classList.add("is-visible"))}open(){this.setAttribute("open","")}close(){if(!this.#e)return;this.classList.remove("is-visible");let e=!1,t=()=>{if(e)return;if(e=!0,this.#e&&this.#e.open)this.#e.close();this.removeAttribute("open"),this.classList.remove("is-open"),document.body.style.overflow="",this.emit("au-close")},i=this.#e,s=(a)=>{if(a.target===i)i.removeEventListener("transitionend",s),t()};this.listen(i,"transitionend",s),this.setTimeout(()=>{i.removeEventListener("transitionend",s),t()},200)}}y("au-modal",$);var E=null;async function D(e,t={}){let{title:i="Confirm",confirmText:s="Confirm",cancelText:a="Cancel",variant:n="primary"}=t;if(E)E.remove();return new Promise((c)=>{let r=document.createElement("au-confirm");r.setAttribute("title",i),r.setAttribute("message",e),r.setAttribute("confirm-text",s),r.setAttribute("cancel-text",a),r.setAttribute("variant",n),r.addEventListener("au-confirm",()=>{r.remove(),E=null,c(!0)}),r.addEventListener("au-cancel",()=>{r.remove(),E=null,c(!1)}),E=r,document.body.appendChild(r),r.open()})}class W extends ${static baseClass="au-confirm";static cssFile="overlays";static observedAttributes=["title","message","confirm-text","cancel-text","variant","open","size"];#e=null;disconnectedCallback(){if(this.#e?.open)document.body.style.overflow="";super.disconnectedCallback()}connectedCallback(){if(!this.hasAttribute("data-rendered"))this.setAttribute("data-rendered","true");Object.getPrototypeOf($.prototype).connectedCallback.call(this)}render(){if(this.querySelector("dialog")){this.#e=this.querySelector("dialog"),this.#t();return}let e=this.attr("title","Confirm"),t=this.attr("message","Are you sure?"),i=this.attr("confirm-text","Confirm"),s=this.attr("cancel-text","Cancel"),a=this.attr("variant","primary")==="danger"?"danger":"filled";this.innerHTML=v`<dialog class="au-confirm__dialog"> <h3 class="au-confirm__title">${e}</h3> <p class="au-confirm__message">${t}</p> <div class="au-confirm__actions"> <au-button variant="text" data-action="cancel">${s}</au-button> <au-button variant="${a}" data-action="confirm">${i}</au-button> </div> </dialog>`,this.#e=this.querySelector("dialog"),this.#t()}handleAction(e,t,i){if(e==="cancel")this.cancel();else if(e==="confirm")this.confirm()}#t(){if(this.#e=this.querySelector("dialog"),!this.#e)return;this.listen(this.#e,"close",()=>{this.removeAttribute("open"),this.classList.remove("is-open","is-visible"),document.body.style.overflow=""}),this.listen(this.#e,"cancel",(e)=>{e.preventDefault(),this.cancel()}),this.listen(this.#e,"click",(e)=>{if(e.target===this.#e)this.cancel()})}update(e,t,i){if(e==="open"){if(t!==null)this.#i()}}#i(){if(!this.#e||this.#e.open)return;this.classList.add("is-open"),this.#e.showModal(),document.body.style.overflow="hidden";let e=this.querySelector('[data-action="confirm"]');if(e)requestAnimationFrame(()=>{requestAnimationFrame(()=>e.focus())});requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.classList.add("is-visible")})})}open(){this.setAttribute("open","")}close(){if(!this.#e)return;this.classList.remove("is-visible");let e=!1,t=()=>{if(e)return;if(e=!0,this.#e&&this.#e.open)this.#e.close();this.removeAttribute("open"),this.classList.remove("is-open"),document.body.style.overflow=""},i=this.#e,s=(a)=>{if(a.target===i)i.removeEventListener("transitionend",s),t()};this.listen(i,"transitionend",s),this.setTimeout(()=>{i.removeEventListener("transitionend",s),t()},200)}confirm(){this.close(),this.emit("au-confirm")}cancel(){this.close(),this.emit("au-cancel")}}y("au-confirm",W);class G{#e=[];#t=!1;schedule(e){if(this.#e.push(e),!this.#t)this.#t=!0,requestAnimationFrame(()=>this.#i())}#i(){let e=this.#e;this.#e=[],this.#t=!1;for(let t of e)try{t()}catch(i){console.error("[RenderScheduler] Error:",i)}}}var ae=new G;class B{#e=[];#t=[];#i=!1;read(e){this.#e.push(e),this.#s()}write(e){this.#t.push(e),this.#s()}#s(){if(!this.#i)this.#i=!0,requestAnimationFrame(()=>this.#a())}#a(){let e;while(e=this.#e.shift())try{e()}catch(t){console.error(t)}while(e=this.#t.shift())try{e()}catch(t){console.error(t)}if(this.#i=!1,this.#e.length||this.#t.length)this.#s()}}var ne=new B;function re(e,t={}){let i=t.persist?`agentui:${t.persist}`:null,s={...e},a=/*@__PURE__*/new Map,n=/*@__PURE__*/new Set,c=!1,r=/*@__PURE__*/new Map;if(i)try{let o=typeof localStorage<"u"?localStorage.getItem(i):null;if(o){let l=JSON.parse(o);if(l&&typeof l==="object"){for(let u of Object.keys(e))if(u in l){let m=e[u],b=l[u];if(m===null||m===void 0)s[u]=b;else if(Array.isArray(m)){if(Array.isArray(b))s[u]=b}else if(typeof b===typeof m)s[u]=b}}}}catch(o){}function h(o,l,u){let m=a.get(o);if(m)for(let b of m)b(l,u);for(let b of n)b(o,l,u)}function A(){if(!i)return;try{if(typeof localStorage<"u")localStorage.setItem(i,JSON.stringify(s))}catch(o){}}let T=/*@__PURE__*/new Set(["__proto__","constructor","prototype"]),k=new Proxy(s,{get(o,l){return o[l]},set(o,l,u){if(T.has(l))return console.warn(`[AgentUI Store] Blocked dangerous key: "${String(l)}"`),!0;let m=o[l];if(Object.is(m,u))return!0;if(o[l]=u,c){if(!r.has(l))r.set(l,{oldVal:m});r.get(l).newVal=u}else h(l,u,m),A();return!0}});return{state:k,subscribe(o,l){if(o==="*")return n.add(l),()=>n.delete(l);if(!a.has(o))a.set(o,/*@__PURE__*/new Set);return a.get(o).add(l),()=>{let u=a.get(o);if(u){if(u.delete(l),u.size===0)a.delete(o)}}},batch(o){c=!0,r.clear();try{o()}finally{c=!1;for(let[l,{newVal:u,oldVal:m}]of r)if(!Object.is(u,m))h(l,u,m);r.clear(),A()}},getState(){return{...s}},setState(o){for(let[l,u]of Object.entries(o))k[l]=u},destroy(){a.clear(),n.clear()}}}var C=re({current:"light",preference:"auto"},{persist:"au-theme"}),L={set(e){if(e==="auto"){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",t?"dark":"light")}else document.documentElement.setAttribute("data-theme",e);C.state.preference=e,C.state.current=document.documentElement.getAttribute("data-theme"),g.emit(p.THEME_CHANGE,{theme:e})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let e=this.get();this.set(e==="dark"?"light":"dark")},init(){let e=typeof localStorage<"u"?localStorage.getItem("au-theme"):null;if(e&&C.state.preference==="auto"){this.set(e);try{localStorage.removeItem("au-theme")}catch(i){}return}let t=C.state.preference;if(t&&t!=="auto")this.set(t);else if(e){this.set(e);try{localStorage.removeItem("au-theme")}catch(i){}}else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(i)=>{if(C.state.preference==="auto")document.documentElement.setAttribute("data-theme",i.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null},get _store(){return C}};if(typeof window<"u")L.init();var He="startViewTransition"in document;class F extends d{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>L.toggle()),g.on(p.THEME_CHANGE,()=>this.#e())}render(){this.innerHTML=v`<button class="au-theme-toggle__button" aria-label="Toggle theme"> <span class="au-theme-toggle__icon"></span> </button>`,this.#e()}#e(){let e=L.get()==="dark",t=this.querySelector(".au-theme-toggle__icon");if(t)t.textContent=e?"☀️":"\uD83C\uDF19"}}y("au-theme-toggle",F);M("au-theme-toggle",{signals:[p.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});function P(e){let t=e.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map((h)=>document.getElementById(h)?.textContent).filter(Boolean).join(" ");if(r)return r}let i=e.getAttribute("aria-label");if(i)return i;if(e.id){let r=document.querySelector(`label[for="${e.id}"]`);if(r)return r.textContent.trim()}let s=e.getAttribute("title");if(s)return s;let a=e.getAttribute("role")||e.tagName.toLowerCase();if(["button","link","tab","menuitem","option","radio","checkbox"].some((r)=>a.includes(r))){let r=e.textContent?.trim();if(r&&r.length<100)return r}let n=e.getAttribute("placeholder");if(n)return n;let c=e.getAttribute("value");if(c&&e.tagName.includes("INPUT"))return`Input: ${c}`;return e.tagName.toLowerCase().replace("au-","")}function oe(e){let t=[],i=e.tagName.toLowerCase();if(e.hasAttribute("disabled"))return["none (disabled)"];if(e.onclick||e.hasAttribute("onclick"))t.push("click");switch(i){case"au-button":t.push("click");break;case"au-checkbox":case"au-switch":t.push("toggle","check","uncheck");break;case"au-input":case"au-textarea":t.push("type","clear","focus");break;case"au-dropdown":t.push("open","select","close");break;case"au-modal":t.push("open","close");break;case"au-tabs":t.push("select-tab");break;case"au-radio":t.push("select");break;case"au-chip":t.push("toggle","click");break;case"au-confirm":t.push("confirm","cancel");break;default:if(e.classList.contains("au-button")||e.getAttribute("role")==="button")t.push("click")}return t.length?t:["focus"]}function Q(e){let t={},i=e.tagName.toLowerCase();if(e.hasAttribute("checked"))t.checked=!0;if(e.hasAttribute("disabled"))t.disabled=!0;if(e.hasAttribute("open"))t.open=!0;if(e.hasAttribute("selected"))t.selected=!0;if(e.hasAttribute("active"))t.active=!0;if(e.hasAttribute("loading"))t.loading=!0;if(e.hasAttribute("value"))t.value=e.getAttribute("value");let s=e.getAttribute("aria-checked");if(s)t.ariaChecked=s==="true";let a=e.getAttribute("aria-expanded");if(a)t.expanded=a==="true";let n=e.getAttribute("aria-selected");if(n)t.selected=n==="true";switch(i){case"au-input":case"au-textarea":let c=e.querySelector("input, textarea");if(c)t.value=c.value,t.placeholder=c.placeholder;break;case"au-progress":t.value=parseFloat(e.getAttribute("value")||"0"),t.max=parseFloat(e.getAttribute("max")||"100"),t.percentage=t.value/t.max*100;break;case"au-dropdown":t.value=e.getAttribute("value"),t.open=e.classList.contains("is-open");break}return t}function J(e){let t=e.tagName.toLowerCase().replace("au-",""),i=P(e),s=Q(e),a=s.disabled?" (disabled)":"",n={button:()=>`Button "${i}"${a}. ${s.loading?"Currently loading.":"Click to activate."}`,checkbox:()=>`Checkbox "${i}"${a}. Currently ${s.ariaChecked||s.checked?"checked":"unchecked"}.`,switch:()=>`Toggle switch "${i}"${a}. Currently ${s.ariaChecked||s.checked?"on":"off"}.`,input:()=>`Text input "${i}"${a}. ${s.value?`Current value: "${s.value}"`:"Empty."} ${s.placeholder?`Placeholder: "${s.placeholder}"`:""}`,textarea:()=>`Text area "${i}"${a}. ${s.value?`Contains: "${s.value.slice(0,50)}${s.value.length>50?"...":""}"`:"Empty."}`,dropdown:()=>`Dropdown "${i}"${a}. ${s.value?`Selected: "${s.value}"`:"No selection."} ${s.open?"Menu is open.":"Menu is closed."}`,modal:()=>`Modal dialog${s.open?" (currently open)":" (currently closed)"}. ${i!=="modal"?`Title: "${i}"`:""}`,tabs:()=>`Tab navigation with ${e.querySelectorAll("au-tab").length} tabs.`,tab:()=>`Tab "${i}". ${s.active?"Currently active.":"Inactive."}`,progress:()=>`Progress bar at ${Math.round(s.percentage||0)}%.`,spinner:()=>"Loading spinner indicating operation in progress.",alert:()=>`Alert message: "${e.textContent?.trim().slice(0,100)||i}"`,card:()=>`Card container${i!=="card"?` titled "${i}"`:""}.`,chip:()=>`Chip "${i}"${a}. ${s.selected?"Selected.":"Not selected."}`,badge:()=>`Badge showing "${e.textContent?.trim()||"notification"}"`,avatar:()=>`User avatar${e.getAttribute("name")?` for "${e.getAttribute("name")}"`:""}`,icon:()=>`Icon: ${e.getAttribute("name")||"decorative"}`,confirm:()=>`Confirmation dialog. ${s.open?"Waiting for user response.":"Hidden."}`,fetch:()=>`Data fetcher${s.loading?" (loading)":""}. URL: ${e.getAttribute("url")||"not set"}`}[t];if(n)return n();return`${t} component${i?` "${i}"`:""}${a}.`}function le(e){let t=e.getBoundingClientRect();return t.top<window.innerHeight&&t.bottom>0&&t.left<window.innerWidth&&t.right>0&&t.width>0&&t.height>0}function V(e=document.body,t={}){let{visibleOnly:i=!1,interactiveOnly:s=!1,types:a=null}=t,n;if(a)n=e.querySelectorAll(a.join(","));else n=Array.from(e.querySelectorAll("*")).filter((h)=>h.tagName.toLowerCase().startsWith("au-")&&h.tagName.toLowerCase()!=="au-ripple-wave");let c=[],r=/*@__PURE__*/new Set(["au-button","au-checkbox","au-switch","au-input","au-textarea","au-dropdown","au-radio","au-tab","au-chip","au-modal","au-confirm"]);for(let h of n){let A=h.tagName.toLowerCase(),T=r.has(A),k=le(h);if(i&&!k)continue;if(s&&!T)continue;let o=h.getBoundingClientRect();c.push({tag:A,id:h.id||null,label:P(h),description:J(h),state:Q(h),actions:oe(h),rect:{top:Math.round(o.top),left:Math.round(o.left),width:Math.round(o.width),height:Math.round(o.height)},interactive:T,visible:k})}return c}function ue(e){let t=typeof e==="string"?document.querySelector(e):e;if(!t)return null;return J(t)}function ce(){let e=/*@__PURE__*/new Map,t=["au-button","au-input","au-textarea","au-checkbox","au-switch","au-dropdown","au-option","au-radio","au-radio-group","au-chip","au-card","au-tabs","au-tab","au-alert","au-badge","au-progress","au-avatar","au-skeleton","au-spinner","au-modal","au-toast","au-tooltip","au-icon","au-stack","au-grid","au-container","au-navbar","au-sidebar","au-divider","au-theme-toggle","au-virtual-list","au-lazy","au-repeat","au-form","au-table","au-confirm","au-fetch"];for(let i of t){let s=customElements.get(i);if(s)e.set(i,s)}return e}function de(e,t=document.body){let i=e.toLowerCase();return V(t).filter((s)=>s.label.toLowerCase().includes(i)).map((s)=>{let a=s.id?`#${s.id}`:`${s.tag}`;return t.querySelector(a)}).filter(Boolean)}var he=["au-button","au-input","au-textarea","au-card","au-modal","au-alert","au-toast","au-checkbox","au-switch","au-radio","au-dropdown","au-tabs","au-tab","au-chip","au-badge","au-avatar","au-progress","au-spinner","au-skeleton","au-tooltip","au-table","au-datatable","au-form","au-stack","au-grid","au-container","au-divider","au-drawer","au-sidebar","au-navbar","au-bottom-nav","au-layout","au-router","au-page","au-theme-toggle","au-splash","au-virtual-list","au-lazy","au-repeat","au-fetch","au-confirm","au-schema-form","au-prompt-ui","au-error-boundary","au-code","au-callout","au-icon","au-api-table","au-example","au-doc-page"];async function fe(e,t={}){if(e._describeCatalog)return;let i=document.querySelectorAll("script[src]"),s="";for(let n of i)if(t.checkChunks?n.src.includes("agentui")||n.src.includes("chunks"):n.src.includes("agentui")){if(s=n.src.substring(0,n.src.lastIndexOf("/")+1),t.checkChunks&&s.includes("/chunks/"))s=s.replace("/chunks/","/");break}let a=s+"describe-catalog.json";try{let n=await fetch(a);if(n.ok)e._describeCatalog=await n.json()}catch(n){if(window.AGENTUI_DEBUG)console.warn("[AgentUI] Could not load describe catalog from",a)}}function me(e){return async function(){if(!e._describeCatalog)await this.loadDescriptions();let t={};for(let i of he){let s=customElements.get(i);if(s?.describe)t[i]=s.describe()}return t}}if(!g.hasListeners(p.TOAST_SHOW))g.on(p.TOAST_SHOW,(e)=>{q.show(e.message,e)});if(typeof window<"u"&&!window.AgentUI){window.AgentUI={Theme:L,bus:g,UIEvents:p,showToast:N,getAuComponentTree:V,describeComponent:ue,findByLabel:de,getRegisteredComponents:ce,auConfirm:D,ready:!1,discoverAll:me(d),async loadDescriptions(){await fe(d,{checkChunks:!0})}};let e=()=>{if(window.AGENTUI_DEBUG);window.AgentUI.ready=!0,document.dispatchEvent(new CustomEvent("au-ready",{detail:{timestamp:Date.now()}}))};if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",e,{once:!0});else setTimeout(e,0)}
