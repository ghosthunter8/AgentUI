class Y extends HTMLElement{static observedAttributes=[];static baseClass="";static cssFile=null;static _loadedCSS=new Set;static _bundleChecked=!1;static _bundleLoaded=!1;static useContainment=!0;static describe(){let J=this.baseClass||this.name.replace(/^Au/,"au-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Z=Y._describeCatalog?.[J]||{name:J,props:this.observedAttributes||[],baseClass:this.baseClass||"",cssFile:this.cssFile||null},W=typeof document<"u"?Array.from(document.querySelectorAll(J)):[];return{...Z,runtime:{registered:typeof customElements<"u"&&!!customElements.get(J),version:"0.1.130",instanceCount:W.length,instances:W.slice(0,5).map((Q)=>{let X={id:Q.id||null};if("value"in Q&&Q.value!==void 0)X.value=Q.value;if("checked"in Q&&Q.checked!==void 0)X.checked=Q.checked;if(typeof Q.offsetParent<"u")X.visible=Q.offsetParent!==null;return X})}}}static _describeCatalog=null;_rendered=!1;_abortController=null;_timers=new Set;_intervals=new Set;constructor(){super();this._initAgentLogger()}_initAgentLogger(){if(!window.__AGENTUI_ERRORS__)window.__AGENTUI_ERRORS__=[];if(!window.AgentUIAgent)window.AgentUIAgent={reset:()=>{window.__AGENTUI_ERRORS__=[],console.log("[AgentUIAgent] Errors cleared")},getErrors:()=>window.__AGENTUI_ERRORS__,hasError:(J,Z)=>{return window.__AGENTUI_ERRORS__.some((W)=>W.component===J.toLowerCase()&&W.code===Z)}}}logError(J,Z){let W={component:this.tagName.toLowerCase(),code:J,message:Z,element:this,timestamp:Date.now()};window.__AGENTUI_ERRORS__.push(W),console.warn(`[AgentUI] ${J}: ${Z}`,this)}connectedCallback(){if(!this._abortController)this._abortController=new AbortController;if(this.constructor.baseClass)this.classList.add(this.constructor.baseClass);if(this.constructor.useContainment&&!this.style.contain)this.style.contain="layout style";if(this.#J(),!this._rendered)this.render(),this._rendered=!0;this._loadComponentCSS(),this._inferSemanticAttributes()}#J(){this.listen(this,"click",(J)=>{let Z=J.target.closest("[data-action]");if(!Z||!this.contains(Z))return;let W=Z.dataset.action;if(this.handleAction)this.handleAction(W,Z,J)})}_loadComponentCSS(){let J=this.constructor.cssFile;if(!J)return;if(!Y._bundleChecked)Y._bundleChecked=!0,Y._bundleLoaded=!!document.querySelector('link[href*="agentui.css"], link[href*="agentui.min.css"]')||!!document.querySelector('link[href*="agentui-wc"]')||!!document.querySelector('link[href*="components.css"]')||!!document.querySelector("style[data-agentui]")||document.styleSheets&&Array.from(document.styleSheets).some((X)=>{try{return X.cssRules&&Array.from(X.cssRules).some(($)=>$.selectorText?.includes(".au-button")||$.selectorText?.includes(".au-chip"))}catch{return!1}});if(Y._bundleLoaded)return;if(Y._loadedCSS.has(J))return;Y._loadedCSS.add(J);let Z=document.createElement("link");Z.id=`au-css-${J}`,Z.rel="stylesheet";let W="/styles/",Q=document.querySelector('link[href*="/styles/"]');if(Q){let X=Q.href.match(/(.*\/(?:src\/|dist\/)?styles\/)/);if(X)W=X[1]}else{let X=document.querySelector('link[href*="/dist/"]');if(X){let $=X.href.match(/(.*\/dist\/)/);if($)W=$[1]+"styles/"}else{let $=document.querySelector('script[src*="/src/"]');if($){let q=$.src.match(/(.*\/src\/)/);if(q)W=q[1]+"styles/"}}}Z.href=`${W}components/${J}.css`,document.head.appendChild(Z)}_inferSemanticAttributes(){let J=this.tagName.toLowerCase();if(this.hasAttribute("data-au-action"))return;let Z="",W="";switch(J){case"au-button":Z=this._inferButtonAction(),W=this._inferButtonRole();break;case"au-input":case"au-textarea":Z="input",W="text-field";break;case"au-checkbox":case"au-switch":Z="toggle",W="control";break;case"au-dropdown":Z="select",W="selector";break;case"au-modal":Z="dialog",W="overlay";break;case"au-tabs":Z="navigate",W="navigation";break;case"au-card":W="container";break}if(Z)this.setAttribute("data-au-action",Z);if(W)this.setAttribute("data-au-role",W)}_inferButtonAction(){let J=this.textContent?.toLowerCase().trim()||"";if(/^(save|submit|confirm|send|create|add|apply|ok|yes)$/.test(J))return"submit";if(/^(cancel|close|dismiss|no|nevermind)$/.test(J))return"cancel";if(/^(delete|remove|clear|trash)$/.test(J))return"delete";if(/^(back|next|previous|forward|continue)$/.test(J))return"navigate";return"click"}_inferButtonRole(){let J=this.getAttribute("variant");if(J==="filled"||J==="elevated")return"primary-action";if(J==="tonal"||J==="outlined")return"secondary-action";if(J==="text")return"tertiary-action";if(J==="danger")return"destructive-action";return"action"}disconnectedCallback(){if(this._abortController)this._abortController.abort(),this._abortController=null;for(let J of this._timers)clearTimeout(J);this._timers.clear();for(let J of this._intervals)clearInterval(J);this._intervals.clear(),this.cleanup()}cleanup(){}attributeChangedCallback(J,Z,W){if(Z!==W&&this._rendered)this.update(J,W,Z)}render(){}update(J,Z,W){}setupEvents(){}attr(J,Z=""){return this.getAttribute(J)??Z}has(J){return this.hasAttribute(J)}emit(J,Z={}){this.dispatchEvent(new CustomEvent(J,{bubbles:!0,composed:!0,detail:Z}))}listen(J,Z,W,Q={}){if(!this._abortController)this._abortController=new AbortController;let X={...Q,signal:this._abortController.signal};J.addEventListener(Z,W,X)}setTimeout(J,Z){let W;return W=setTimeout(()=>{this._timers.delete(W),J()},Z),this._timers.add(W),W}setInterval(J,Z){let W=setInterval(J,Z);return this._intervals.add(W),W}setupActivation(J){this.updateTabindex(),this.listen(this,"keydown",(Z)=>{if((Z.key==="Enter"||Z.key===" ")&&!this.has("disabled"))Z.preventDefault(),J()})}updateTabindex(){this.setAttribute("tabindex",this.has("disabled")?"-1":"0")}setDisplay(J){this.style.display=J}get isDisabled(){return this.has("disabled")}}function O(J,Z,W={}){if(customElements.get(J))return;let Q=W.priority||"user-blocking";if(typeof scheduler<"u"&&scheduler.postTask)scheduler.postTask(()=>{if(!customElements.get(J))customElements.define(J,Z)},{priority:Q});else customElements.define(J,Z)}var j=typeof window<"u"?window:globalThis,e=["ui:toast","ui:modal","ui:theme","ui:tabs","ui:dropdown","ui:form","ui:grid","ui:stack","ui:virtual-list"],JJ={type:"ui-framework",version:"0.1.116",description:"AI-Optimized UI Framework - Web Components Edition"};class f{#J=new Map;#Z=new Map;#W=new Set;#Q=new Set;#X=100;#$=!1;#q=Date.now();peerId;capabilities;meta;constructor(J={}){this.peerId=J.peerId??"default",this.capabilities=J.capabilities??[],this.meta=J.meta??{},this.#$=J.debug??!1}on(J,Z){if(!this.#J.has(J))this.#J.set(J,new Set);let W=Z;this.#J.get(J).add(W);let Q=this.#J.get(J).size;if(Q>this.#X)console.warn(`[AgentUI] Possible event leak: "${J}" has ${Q} listeners (maxListeners: ${this.#X}). Use setMaxListeners() to increase.`);return{unsubscribe:()=>this.#J.get(J)?.delete(W)}}off(J,Z){this.#J.get(J)?.delete(Z)}emitSync(J,Z){let W={event:J,data:Z};for(let X of this.#Q)W=X(W,{event:J})??W;let Q=this.#J.get(J);if(Q)for(let X of Q){let $=W;for(let q of this.#W)$=q($,{event:J})??$;X($)}for(let[X,$]of this.#J)if(X.endsWith("*")&&J.startsWith(X.slice(0,-1))&&X!==J)for(let q of $)q(W)}async emit(J,Z){return this.emitSync(J,Z),{delivered:!0,event:J}}signal(J,Z){this.emitSync(J,Z)}hasListeners(J){return(this.#J.get(J)?.size??0)>0}handle(J,Z){return this.#Z.set(J,Z),{unsubscribe:()=>this.#Z.delete(J)}}unhandle(J){this.#Z.delete(J)}async request(J,Z,W){let Q=this.#Z.get(Z);if(!Q)throw Error(`No handler for '${Z}'`);return Q(W)}async broadcastRequest(J,Z){return this.request(this.peerId,J,Z)}addInboundHook(J){return this.#W.add(J),()=>this.#W.delete(J)}addOutboundHook(J){return this.#Q.add(J),()=>this.#Q.delete(J)}setMaxListeners(J){this.#X=J}get debug(){return this.#$}get peers(){return[]}get peerCount(){return 0}healthCheck(){return{status:"healthy",peerId:this.peerId,uptime:Date.now()-this.#q,listeners:this.#J.size,handlers:this.#Z.size}}destroy(){this.#J.clear(),this.#Z.clear(),this.#W.clear(),this.#Q.clear()}}if(!j.__AGENTUI_BUS__)j.__AGENTUI_BUS__=new f({peerId:"agentui",capabilities:e,meta:JJ});var F=j.__AGENTUI_BUS__,I="__AGENTUI_COMPONENT_REGISTRY__";if(!j[I])j[I]=new Map;var ZJ=j[I],z={on(J,Z){let W=F.on(J,(Q)=>{Z(Q.data??Q)});return()=>W.unsubscribe()},once(J,Z){let W=this.on(J,(Q)=>{W(),Z(Q)})},off(J,Z){F.off(J,Z)},emit(J,Z){return F.emitSync(J,Z)},async emitAsync(J,Z){return F.emit(J,Z)},signal(J,Z){F.signal(J,Z)},async request(J,Z,W){return F.request(J,Z,W)},async broadcastRequest(J,Z){return F.broadcastRequest(J,Z)},handle(J,Z){return F.handle(J,Z)},unhandle(J){F.unhandle(J)},destroy(){F.destroy()},setMaxListeners(J){F.setMaxListeners(J)},get peerId(){return F.peerId},get peers(){return F.peers},get peerCount(){return F.peerCount},hasListeners(J){return F.hasListeners(J)},get raw(){return F}},_={TOAST_SHOW:"ui:toast:show",TOAST_DISMISS:"ui:toast:dismiss",MODAL_OPEN:"ui:modal:open",MODAL_CLOSE:"ui:modal:close",THEME_CHANGE:"ui:theme:change",TAB_CHANGE:"ui:tab:change",DROPDOWN_SELECT:"ui:dropdown:select",FORM_SUBMIT:"ui:form:submit",FORM_VALIDATE:"ui:form:validate"},L=(J,Z={})=>{z.emit(_.TOAST_SHOW,{message:J,...Z})};var x=(J,Z)=>{ZJ.set(J,{...Z,registeredAt:Date.now()})};var P={set(J){if(J==="auto"){let Z=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",Z?"dark":"light")}else document.documentElement.setAttribute("data-theme",J);localStorage.setItem("au-theme",J),z.emit(_.THEME_CHANGE,{theme:J})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let J=this.get();this.set(J==="dark"?"light":"dark")},init(){let J=localStorage.getItem("au-theme");if(J)this.set(J);else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(Z)=>{if(localStorage.getItem("au-theme")==="auto")document.documentElement.setAttribute("data-theme",Z.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null}};if(typeof window<"u")P.init();function B(J={}){let Z={...J},W=new Set;return{get(){return Z},set(Q){Z={...Z,...Q},this.notify()},update(Q){let X=Q(Z);this.set(X)},subscribe(Q){return W.add(Q),Q(Z),()=>W.delete(Q)},notify(){for(let Q of W)Q(Z)},reset(){Z={...J},this.notify()}}}var M=B({});function v(J,Z,W={}){let{color:Q="currentColor",centered:X=!1}=W,$=J.getBoundingClientRect(),q,G;if(X||!Z)q=$.width/2,G=$.height/2;else{let V=Z.touches?Z.touches[0].clientX:Z.clientX,t=Z.touches?Z.touches[0].clientY:Z.clientY;q=V-$.left,G=t-$.top}let K=Math.max(Math.hypot(q,G),Math.hypot($.width-q,G),Math.hypot(q,$.height-G),Math.hypot($.width-q,$.height-G))*2,D=document.createElement("span");D.className="au-ripple-wave",D.style.cssText=`
        position: absolute;
        width: ${K}px;
        height: ${K}px;
        left: ${q-K/2}px;
        top: ${G-K/2}px;
        background: ${Q};
        border-radius: 50%;
        transform: scale(0);
        opacity: 0.10;
        pointer-events: none;
    `;let R=getComputedStyle(J);if(R.position==="static")J.style.position="relative";if(R.overflow!=="hidden")J.style.overflow="hidden";J.appendChild(D),D.animate([{transform:"scale(0)"},{transform:"scale(1)"}],{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"});let U=()=>{D.animate([{opacity:"0.10"},{opacity:"0"}],{duration:150,easing:"ease-out",fill:"forwards"}).onfinish=()=>D.remove(),J.removeEventListener("pointerup",U),J.removeEventListener("pointerleave",U),J.removeEventListener("pointercancel",U)};return J.addEventListener("pointerup",U,{once:!0}),J.addEventListener("pointerleave",U,{once:!0}),J.addEventListener("pointercancel",U,{once:!0}),D}function h(J,Z={}){let W=(Q)=>{if(J.hasAttribute("disabled"))return;v(J,Q,Z)};return J.addEventListener("pointerdown",W),()=>{J.removeEventListener("pointerdown",W)}}var WJ=(J)=>class extends J{#J=null;initRipple(Z=this,W={}){this.#J=h(Z,W)}disconnectedCallback(){if(this.#J)this.#J(),this.#J=null;super.disconnectedCallback?.()}};var S="startViewTransition"in document;async function E(J){if(S)await document.startViewTransition(async()=>{await J()}).finished;else await J()}async function QJ(J,{name:Z="page"}={}){if(S){let W=document.createElement("style");W.textContent=`
            ::view-transition-old(${Z}),
            ::view-transition-new(${Z}) {
                animation-duration: 0.3s;
            }
        `,document.head.appendChild(W),await E(J),W.remove()}else await J()}async function XJ(J,Z){await E(()=>{window.history.pushState({},"",J),Z()})}var A="scheduler"in globalThis;async function C(J,Z="user-visible"){if(A)return globalThis.scheduler.postTask(J,{priority:Z});let W=Z==="user-blocking"?0:Z==="user-visible"?0:1;return new Promise((Q)=>{setTimeout(()=>Q(J()),W)})}async function b(){if(A&&"yield"in globalThis.scheduler)return globalThis.scheduler.yield();return new Promise((J)=>setTimeout(J,0))}async function $J(J,Z,W=50){for(let Q=0;Q<J.length;Q++)if(Z(J[Q],Q),(Q+1)%W===0)await b()}function qJ(J){return C(J,"background")}function KJ(J){return C(J,"user-blocking")}function g(){return new Promise((J)=>{requestAnimationFrame(()=>requestAnimationFrame(J))})}class u{#J=[];#Z=!1;schedule(J){if(this.#J.push(J),!this.#Z)this.#Z=!0,requestAnimationFrame(()=>this.#W())}#W(){let J=this.#J.slice();this.#J=[],this.#Z=!1;for(let Z of J)try{Z()}catch(W){console.error("[RenderScheduler] Error:",W)}}}var GJ=new u;function YJ(J,Z={}){let W=Z.keyFn??JSON.stringify,Q=Z.maxSize??1/0,X=new Map;return(...$)=>{let q=W($);if(X.has(q))return X.get(q);let G=J(...$);if(X.size>=Q){let K=X.keys().next().value;X.delete(K)}return X.set(q,G),G}}function _J(J,Z=100){let W=null;return(...Q)=>{if(W)clearTimeout(W);W=setTimeout(()=>J(...Q),Z)}}function FJ(J,Z=100){let W=!1;return(...Q)=>{if(!W)J(...Q),W=!0,setTimeout(()=>W=!1,Z)}}function zJ(J,Z={}){let W=new IntersectionObserver((Q)=>{for(let X of Q)if(X.isIntersecting)J(X.target),W.unobserve(X.target)},{rootMargin:"100px",threshold:0,...Z});return{observe:(Q)=>W.observe(Q),disconnect:()=>W.disconnect()}}class p{#J=[];#Z=[];#W=!1;read(J){this.#J.push(J),this.#Q()}write(J){this.#Z.push(J),this.#Q()}#Q(){if(!this.#W)this.#W=!0,requestAnimationFrame(()=>this.#X())}#X(){let J;while(J=this.#J.shift())try{J()}catch(Z){console.error(Z)}while(J=this.#Z.shift())try{J()}catch(Z){console.error(Z)}if(this.#W=!1,this.#J.length||this.#Z.length)this.#Q()}}var DJ=new p;async function OJ(J,Z,W=100){for(let Q=0;Q<J.length;Q+=W){let X=J.slice(Q,Q+W);for(let $=0;$<X.length;$++)Z(X[$],Q+$);await new Promise(($)=>setTimeout($,0))}}class T extends Y{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>P.toggle()),z.on(_.THEME_CHANGE,()=>this.#J())}render(){this.innerHTML=`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#J()}#J(){let J=P.get()==="dark",Z=this.querySelector(".au-theme-toggle__icon");if(Z)Z.textContent=J?"☀️":"\uD83C\uDF19"}}O("au-theme-toggle",T);x("au-theme-toggle",{signals:[_.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});class d extends Y{static baseClass="au-toast";static cssFile=null;static observedAttributes=["severity","duration","position"];#J=null;#Z=null;connectedCallback(){if(!this.#Z&&!this.querySelector(".au-toast__content"))this.#Z=this.innerHTML;super.connectedCallback(),this.listen(this,"click",(Z)=>{if(Z.target.classList.contains("au-toast__close"))this.dismiss()});let J=parseInt(this.attr("duration","3000"));if(J>0)this.#J=this.setTimeout(()=>this.dismiss(),J)}disconnectedCallback(){super.disconnectedCallback()}render(){if(this.querySelector(".au-toast__content")){this.#W();return}let J=this.#Z||"";this.innerHTML=`
            <span class="au-toast__content">${J}</span>
            <button class="au-toast__close" aria-label="Dismiss">✕</button>
        `,this.#W()}update(J,Z,W){this.#W()}#W(){let J=this.attr("severity","info"),Z=this.attr("position","bottom-center"),W=["au-toast",`au-toast--${J}`,`au-toast--${Z}`];W.forEach((Q)=>this.classList.add(Q)),Array.from(this.classList).forEach((Q)=>{if(Q.startsWith("au-toast--")&&!W.includes(Q))this.classList.remove(Q)})}dismiss(){this.emit("au-dismiss"),this.classList.add("is-exiting");let J=!1,Z=()=>{if(!J)J=!0,this.remove()};this.addEventListener("animationend",Z,{once:!0}),this.setTimeout(Z,200)}}O("au-toast",d);class m extends Y{static baseClass="au-toast-container";connectedCallback(){super.connectedCallback(),this.setAttribute("role","status"),this.setAttribute("aria-live","polite")}}O("au-toast-container",m);var k={show(J,Z={}){let W=Z.position||"bottom-center",Q=document.querySelector(`au-toast-container[position="${W}"]`);if(!Q)Q=document.createElement("au-toast-container"),Q.setAttribute("position",W),document.body.appendChild(Q);let X=document.createElement("au-toast");if(X.textContent=J,Z.severity)X.setAttribute("severity",Z.severity);if(Z.duration)X.setAttribute("duration",Z.duration.toString());return Q.appendChild(X),X}};if(typeof window<"u"&&z&&!z.hasListeners(_.TOAST_SHOW))z.on(_.TOAST_SHOW,(J)=>{k.show(J.message,J)});x("au-toast",{signals:[_.TOAST_SHOW,_.TOAST_DISMISS],options:{severities:["info","success","warning","error"],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],defaultDuration:3000},description:"MD3 Snackbar/Toast Notification component"});function N(J){if(J==null)return"";return String(J).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}class H extends Y{static baseClass="au-modal";static cssFile="overlays";static observedAttributes=["open","size"];#J=null;connectedCallback(){if(!this.hasAttribute("data-rendered"))this._userContent=this.innerHTML,this.setAttribute("data-rendered","true");super.connectedCallback(),this.#Z()}render(){if(this.querySelector("dialog"))return;let J=this.attr("size","md"),Z=this._userContent||"";this.innerHTML=`
            <dialog class="au-modal__dialog au-modal--${J}">
                <button class="au-modal__close" aria-label="Close">✕</button>
                <div class="au-modal__body">${Z}</div>
            </dialog>
        `,this.#J=this.querySelector("dialog")}#Z(){if(this.#J=this.querySelector("dialog"),!this.#J)return;this.listen(this.#J,"close",()=>{this.removeAttribute("open"),this.classList.remove("is-open","is-visible"),document.body.style.overflow="",this.emit("au-close")}),this.listen(this.#J,"cancel",(Z)=>{Z.preventDefault(),this.close()}),this.listen(this.#J,"click",(Z)=>{if(Z.target===this.#J)this.close()});let J=this.querySelector(".au-modal__close");if(J)this.listen(J,"click",()=>{this.close()})}update(J,Z,W){if(J==="open"){if(Z!==null)this.#W()}}#W(){if(!this.#J||this.#J.open)return;this.classList.add("is-open"),this.#J.showModal(),document.body.style.overflow="hidden",this.emit("au-open"),g().then(()=>this.classList.add("is-visible"))}open(){this.setAttribute("open","")}close(){if(!this.#J)return;this.classList.remove("is-visible");let J=!1,Z=()=>{if(J)return;if(J=!0,this.#J&&this.#J.open)this.#J.close();this.removeAttribute("open"),this.classList.remove("is-open"),document.body.style.overflow="",this.emit("au-close")},W=this.#J,Q=(X)=>{if(X.target===W)W.removeEventListener("transitionend",Q),Z()};W.addEventListener("transitionend",Q),this.setTimeout(()=>{W.removeEventListener("transitionend",Q),Z()},200)}}O("au-modal",H);var w=null;async function c(J,Z={}){let{title:W="Confirm",confirmText:Q="Confirm",cancelText:X="Cancel",variant:$="primary"}=Z;if(w)w.remove();return new Promise((q)=>{let G=document.createElement("au-confirm");G.setAttribute("title",W),G.setAttribute("message",J),G.setAttribute("confirm-text",Q),G.setAttribute("cancel-text",X),G.setAttribute("variant",$),G.addEventListener("au-confirm",()=>{G.remove(),w=null,q(!0)}),G.addEventListener("au-cancel",()=>{G.remove(),w=null,q(!1)}),w=G,document.body.appendChild(G),G.open()})}class r extends H{static baseClass="au-confirm";static cssFile="overlays";static observedAttributes=["title","message","confirm-text","cancel-text","variant","open","size"];#J=null;connectedCallback(){if(!this.hasAttribute("data-rendered"))this.setAttribute("data-rendered","true");Object.getPrototypeOf(H.prototype).connectedCallback.call(this)}render(){if(this.querySelector("dialog")){this.#J=this.querySelector("dialog"),this.#Z();return}let J=N(this.attr("title","Confirm")),Z=N(this.attr("message","Are you sure?")),W=N(this.attr("confirm-text","Confirm")),Q=N(this.attr("cancel-text","Cancel")),$=this.attr("variant","primary")==="danger"?"danger":"filled";this.innerHTML=`
            <dialog class="au-confirm__dialog">
                <h3 class="au-confirm__title">${J}</h3>
                <p class="au-confirm__message">${Z}</p>
                <div class="au-confirm__actions">
                    <au-button variant="text" data-action="cancel">${Q}</au-button>
                    <au-button variant="${$}" data-action="confirm">${W}</au-button>
                </div>
            </dialog>
        `,this.#J=this.querySelector("dialog"),this.#Z()}handleAction(J,Z,W){if(J==="cancel")this.cancel();else if(J==="confirm")this.confirm()}#Z(){if(this.#J=this.querySelector("dialog"),!this.#J)return;this.listen(this.#J,"close",()=>{this.removeAttribute("open"),this.classList.remove("is-open","is-visible"),document.body.style.overflow=""}),this.listen(this.#J,"cancel",(J)=>{J.preventDefault(),this.cancel()}),this.listen(this.#J,"click",(J)=>{if(J.target===this.#J)this.cancel()})}update(J,Z,W){if(J==="open"){if(Z!==null)this.#W()}}#W(){if(!this.#J||this.#J.open)return;this.classList.add("is-open"),this.#J.showModal(),document.body.style.overflow="hidden";let J=this.querySelector('[data-action="confirm"]');if(J)requestAnimationFrame(()=>{requestAnimationFrame(()=>J.focus())});requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.classList.add("is-visible")})})}open(){this.setAttribute("open","")}close(){if(!this.#J)return;this.classList.remove("is-visible");let J=!1,Z=()=>{if(J)return;if(J=!0,this.#J&&this.#J.open)this.#J.close();this.removeAttribute("open"),this.classList.remove("is-open"),document.body.style.overflow=""},W=this.#J,Q=(X)=>{if(X.target===W)W.removeEventListener("transitionend",Q),Z()};W.addEventListener("transitionend",Q),this.setTimeout(()=>{W.removeEventListener("transitionend",Q),Z()},200)}confirm(){this.close(),this.emit("au-confirm")}cancel(){this.close(),this.emit("au-cancel")}}O("au-confirm",r);function i(J){let Z=J.getAttribute("aria-labelledby");if(Z){let K=Z.split(" ").map((D)=>document.getElementById(D)?.textContent).filter(Boolean).join(" ");if(K)return K}let W=J.getAttribute("aria-label");if(W)return W;if(J.id){let K=document.querySelector(`label[for="${J.id}"]`);if(K)return K.textContent.trim()}let Q=J.getAttribute("title");if(Q)return Q;let X=J.getAttribute("role")||J.tagName.toLowerCase();if(["button","link","tab","menuitem","option","radio","checkbox"].some((K)=>X.includes(K))){let K=J.textContent?.trim();if(K&&K.length<100)return K}let q=J.getAttribute("placeholder");if(q)return q;let G=J.getAttribute("value");if(G&&J.tagName.includes("INPUT"))return`Input: ${G}`;return J.tagName.toLowerCase().replace("au-","")}function UJ(J){let Z=[],W=J.tagName.toLowerCase();if(J.hasAttribute("disabled"))return["none (disabled)"];if(J.onclick||J.hasAttribute("onclick"))Z.push("click");switch(W){case"au-button":Z.push("click");break;case"au-checkbox":case"au-switch":Z.push("toggle","check","uncheck");break;case"au-input":case"au-textarea":Z.push("type","clear","focus");break;case"au-dropdown":Z.push("open","select","close");break;case"au-modal":Z.push("open","close");break;case"au-tabs":Z.push("select-tab");break;case"au-radio":Z.push("select");break;case"au-chip":Z.push("toggle","click");break;case"au-confirm":Z.push("confirm","cancel");break;default:if(J.classList.contains("au-button")||J.getAttribute("role")==="button")Z.push("click")}return Z.length?Z:["focus"]}function o(J){let Z={},W=J.tagName.toLowerCase();if(J.hasAttribute("checked"))Z.checked=!0;if(J.hasAttribute("disabled"))Z.disabled=!0;if(J.hasAttribute("open"))Z.open=!0;if(J.hasAttribute("selected"))Z.selected=!0;if(J.hasAttribute("active"))Z.active=!0;if(J.hasAttribute("loading"))Z.loading=!0;if(J.hasAttribute("value"))Z.value=J.getAttribute("value");let Q=J.getAttribute("aria-checked");if(Q)Z.ariaChecked=Q==="true";let X=J.getAttribute("aria-expanded");if(X)Z.expanded=X==="true";let $=J.getAttribute("aria-selected");if($)Z.selected=$==="true";switch(W){case"au-input":case"au-textarea":let q=J.querySelector("input, textarea");if(q)Z.value=q.value,Z.placeholder=q.placeholder;break;case"au-progress":Z.value=parseFloat(J.getAttribute("value")||"0"),Z.max=parseFloat(J.getAttribute("max")||"100"),Z.percentage=Z.value/Z.max*100;break;case"au-dropdown":Z.value=J.getAttribute("value"),Z.open=J.classList.contains("is-open");break}return Z}function s(J){let Z=J.tagName.toLowerCase().replace("au-",""),W=i(J),Q=o(J),X=Q.disabled?" (disabled)":"",q={button:()=>`Button "${W}"${X}. ${Q.loading?"Currently loading.":"Click to activate."}`,checkbox:()=>`Checkbox "${W}"${X}. Currently ${Q.ariaChecked||Q.checked?"checked":"unchecked"}.`,switch:()=>`Toggle switch "${W}"${X}. Currently ${Q.ariaChecked||Q.checked?"on":"off"}.`,input:()=>`Text input "${W}"${X}. ${Q.value?`Current value: "${Q.value}"`:"Empty."} ${Q.placeholder?`Placeholder: "${Q.placeholder}"`:""}`,textarea:()=>`Text area "${W}"${X}. ${Q.value?`Contains: "${Q.value.slice(0,50)}${Q.value.length>50?"...":""}"`:"Empty."}`,dropdown:()=>`Dropdown "${W}"${X}. ${Q.value?`Selected: "${Q.value}"`:"No selection."} ${Q.open?"Menu is open.":"Menu is closed."}`,modal:()=>`Modal dialog${Q.open?" (currently open)":" (currently closed)"}. ${W!=="modal"?`Title: "${W}"`:""}`,tabs:()=>`Tab navigation with ${J.querySelectorAll("au-tab").length} tabs.`,tab:()=>`Tab "${W}". ${Q.active?"Currently active.":"Inactive."}`,progress:()=>`Progress bar at ${Math.round(Q.percentage||0)}%.`,spinner:()=>"Loading spinner indicating operation in progress.",alert:()=>`Alert message: "${J.textContent?.trim().slice(0,100)||W}"`,card:()=>`Card container${W!=="card"?` titled "${W}"`:""}.`,chip:()=>`Chip "${W}"${X}. ${Q.selected?"Selected.":"Not selected."}`,badge:()=>`Badge showing "${J.textContent?.trim()||"notification"}"`,avatar:()=>`User avatar${J.getAttribute("name")?` for "${J.getAttribute("name")}"`:""}`,icon:()=>`Icon: ${J.getAttribute("name")||"decorative"}`,confirm:()=>`Confirmation dialog. ${Q.open?"Waiting for user response.":"Hidden."}`,fetch:()=>`Data fetcher${Q.loading?" (loading)":""}. URL: ${J.getAttribute("url")||"not set"}`}[Z];if(q)return q();return`${Z} component${W?` "${W}"`:""}${X}.`}function PJ(J){let Z=J.getBoundingClientRect();return Z.top<window.innerHeight&&Z.bottom>0&&Z.left<window.innerWidth&&Z.right>0&&Z.width>0&&Z.height>0}function y(J=document.body,Z={}){let{visibleOnly:W=!1,interactiveOnly:Q=!1,types:X=null}=Z,$;if(X)$=J.querySelectorAll(X.join(","));else $=Array.from(J.querySelectorAll("*")).filter((K)=>K.tagName.toLowerCase().startsWith("au-")&&K.tagName.toLowerCase()!=="au-ripple-wave");let q=[],G=new Set(["au-button","au-checkbox","au-switch","au-input","au-textarea","au-dropdown","au-radio","au-tab","au-chip","au-modal","au-confirm"]);for(let K of $){let D=K.tagName.toLowerCase(),R=G.has(D),U=PJ(K);if(W&&!U)continue;if(Q&&!R)continue;let V=K.getBoundingClientRect();q.push({tag:D,id:K.id||null,label:i(K),description:s(K),state:o(K),actions:UJ(K),rect:{top:Math.round(V.top),left:Math.round(V.left),width:Math.round(V.width),height:Math.round(V.height)},interactive:R,visible:U})}return q}function n(J){let Z=typeof J==="string"?document.querySelector(J):J;if(!Z)return null;return s(Z)}function l(){let J=new Map,Z=["au-button","au-input","au-textarea","au-checkbox","au-switch","au-dropdown","au-option","au-radio","au-radio-group","au-chip","au-card","au-tabs","au-tab","au-alert","au-badge","au-progress","au-avatar","au-skeleton","au-spinner","au-modal","au-toast","au-tooltip","au-icon","au-stack","au-grid","au-container","au-navbar","au-sidebar","au-divider","au-theme-toggle","au-virtual-list","au-lazy","au-repeat","au-form","au-table","au-confirm","au-fetch"];for(let W of Z){let Q=customElements.get(W);if(Q)J.set(W,Q)}return J}function a(J,Z=document.body){let W=J.toLowerCase();return y(Z).filter((X)=>X.label.toLowerCase().includes(W)).map((X)=>{let $=X.id?`#${X.id}`:`${X.tag}`;return Z.querySelector($)}).filter(Boolean)}if(!z.hasListeners(_.TOAST_SHOW))z.on(_.TOAST_SHOW,(J)=>{k.show(J.message,J)});if(typeof window<"u"&&!window.AgentUI){window.AgentUI={Theme:P,bus:z,UIEvents:_,showToast:L,createStore:B,appStore:M,getAuComponentTree:y,describeComponent:n,findByLabel:a,getRegisteredComponents:l,auConfirm:c,ready:!1,async discoverAll(){if(!Y._describeCatalog)await this.loadDescriptions();let Z={},W=["au-button","au-input","au-textarea","au-card","au-modal","au-alert","au-toast","au-checkbox","au-switch","au-radio","au-dropdown","au-tabs","au-tab","au-chip","au-badge","au-avatar","au-progress","au-spinner","au-skeleton","au-tooltip","au-table","au-datatable","au-form","au-stack","au-grid","au-container","au-divider","au-drawer","au-sidebar","au-navbar","au-bottom-nav","au-layout","au-router","au-page","au-theme-toggle","au-splash","au-virtual-list","au-lazy","au-repeat","au-fetch","au-confirm","au-schema-form","au-prompt-ui","au-error-boundary","au-code","au-callout","au-icon","au-api-table","au-example","au-doc-page"];for(let Q of W){let X=customElements.get(Q);if(X?.describe)Z[Q]=X.describe()}return Z},async loadDescriptions(){if(Y._describeCatalog)return;let Z=document.querySelectorAll("script[src]"),W="";for(let X of Z)if(X.src.includes("agentui")||X.src.includes("chunks")){if(W=X.src.substring(0,X.src.lastIndexOf("/")+1),W.includes("/chunks/"))W=W.replace("/chunks/","/");break}let Q=W+"describe-catalog.json";try{let X=await fetch(Q);if(X.ok)Y._describeCatalog=await X.json()}catch(X){if(window.AGENTUI_DEBUG)console.warn("[AgentUI] Could not load describe catalog from",Q)}}};let J=()=>{if(window.AGENTUI_DEBUG)console.log("[AgentUI] All components registered, emitting au-ready");window.AgentUI.ready=!0,document.dispatchEvent(new CustomEvent("au-ready",{detail:{timestamp:Date.now()}}))};if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",J,{once:!0});else setTimeout(J,0)}export{b as yieldToMain,QJ as transitionNamed,E as transition,FJ as throttle,S as supportsViewTransitions,A as supportsScheduler,L as showToast,GJ as scheduler,C as scheduleTask,KJ as runImmediate,qJ as runBackground,$J as processWithYield,OJ as processInChunks,XJ as navigateWithTransition,YJ as memo,DJ as domBatch,O as define,_J as debounce,zJ as createVisibilityObserver,B as createStore,v as createRipple,z as bus,h as attachRipple,M as appStore,_ as UIEvents,P as Theme,WJ as RippleMixin,T as AuThemeToggle,Y as AuElement};
