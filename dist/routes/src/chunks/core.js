class D extends HTMLElement{static observedAttributes=[];static baseClass="";static cssFile=null;static _loadedCSS=new Set;static _bundleChecked=!1;static _bundleLoaded=!1;static useContainment=!0;static describe(){let J=this.baseClass||this.name.replace(/^Au/,"au-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Z=D._describeCatalog?.[J]||{name:J,props:this.observedAttributes||[],baseClass:this.baseClass||"",cssFile:this.cssFile||null},$=typeof document<"u"?Array.from(document.querySelectorAll(J)):[];return{...Z,runtime:{registered:typeof customElements<"u"&&!!customElements.get(J),version:"0.1.136",instanceCount:$.length,instances:$.slice(0,5).map((W)=>{let X={id:W.id||null};if("value"in W&&W.value!==void 0)X.value=W.value;if("checked"in W&&W.checked!==void 0)X.checked=W.checked;if(typeof W.offsetParent<"u")X.visible=W.offsetParent!==null;return X})}}}static _describeCatalog=null;_rendered=!1;_abortController=null;_timers=new Set;_intervals=new Set;constructor(){super();this._initAgentLogger()}_initAgentLogger(){if(!window.__AGENTUI_ERRORS__)window.__AGENTUI_ERRORS__=[];if(!window.AgentUIAgent)window.AgentUIAgent={reset:()=>{window.__AGENTUI_ERRORS__=[],console.log("[AgentUIAgent] Errors cleared")},getErrors:()=>window.__AGENTUI_ERRORS__,hasError:(J,Z)=>{return window.__AGENTUI_ERRORS__.some(($)=>$.component===J.toLowerCase()&&$.code===Z)}}}logError(J,Z){let $={component:this.tagName.toLowerCase(),code:J,message:Z,element:this,timestamp:Date.now()};window.__AGENTUI_ERRORS__.push($),console.warn(`[AgentUI] ${J}: ${Z}`,this)}connectedCallback(){if(!this._abortController)this._abortController=new AbortController;if(this.constructor.baseClass)this.classList.add(this.constructor.baseClass);if(this.constructor.useContainment&&!this.style.contain)this.style.contain="layout style";if(this.#J(),!this._rendered)this.render(),this._rendered=!0;this._loadComponentCSS(),this._inferSemanticAttributes()}#J(){this.listen(this,"click",(J)=>{let Z=J.target.closest("[data-action]");if(!Z||!this.contains(Z))return;let $=Z.dataset.action;if(this.handleAction)this.handleAction($,Z,J)})}_loadComponentCSS(){let J=this.constructor.cssFile;if(!J)return;if(!D._bundleChecked)D._bundleChecked=!0,D._bundleLoaded=!!document.querySelector('link[href*="agentui.css"], link[href*="agentui.min.css"]')||!!document.querySelector('link[href*="agentui-wc"]')||!!document.querySelector('link[href*="components.css"]')||!!document.querySelector("style[data-agentui]")||document.styleSheets&&Array.from(document.styleSheets).some((X)=>{try{return X.cssRules&&Array.from(X.cssRules).some((Q)=>Q.selectorText?.includes(".au-button")||Q.selectorText?.includes(".au-chip"))}catch{return!1}});if(D._bundleLoaded)return;if(D._loadedCSS.has(J))return;D._loadedCSS.add(J);let Z=document.createElement("link");Z.id=`au-css-${J}`,Z.rel="stylesheet";let $="/styles/",W=document.querySelector('link[href*="/styles/"]');if(W){let X=W.href.match(/(.*\/(?:src\/|dist\/)?styles\/)/);if(X)$=X[1]}else{let X=document.querySelector('link[href*="/dist/"]');if(X){let Q=X.href.match(/(.*\/dist\/)/);if(Q)$=Q[1]+"styles/"}else{let Q=document.querySelector('script[src*="/src/"]');if(Q){let q=Q.src.match(/(.*\/src\/)/);if(q)$=q[1]+"styles/"}}}Z.href=`${$}components/${J}.css`,document.head.appendChild(Z)}_inferSemanticAttributes(){let J=this.tagName.toLowerCase();if(this.hasAttribute("data-au-action"))return;let Z="",$="";switch(J){case"au-button":Z=this._inferButtonAction(),$=this._inferButtonRole();break;case"au-input":case"au-textarea":Z="input",$="text-field";break;case"au-checkbox":case"au-switch":Z="toggle",$="control";break;case"au-dropdown":Z="select",$="selector";break;case"au-modal":Z="dialog",$="overlay";break;case"au-tabs":Z="navigate",$="navigation";break;case"au-card":$="container";break}if(Z)this.setAttribute("data-au-action",Z);if($)this.setAttribute("data-au-role",$)}_inferButtonAction(){let J=this.textContent?.toLowerCase().trim()||"";if(/^(save|submit|confirm|send|create|add|apply|ok|yes)$/.test(J))return"submit";if(/^(cancel|close|dismiss|no|nevermind)$/.test(J))return"cancel";if(/^(delete|remove|clear|trash)$/.test(J))return"delete";if(/^(back|next|previous|forward|continue)$/.test(J))return"navigate";return"click"}_inferButtonRole(){let J=this.getAttribute("variant");if(J==="filled"||J==="elevated")return"primary-action";if(J==="tonal"||J==="outlined")return"secondary-action";if(J==="text")return"tertiary-action";if(J==="danger")return"destructive-action";return"action"}disconnectedCallback(){if(this._abortController)this._abortController.abort(),this._abortController=null;for(let J of this._timers)clearTimeout(J);this._timers.clear();for(let J of this._intervals)clearInterval(J);this._intervals.clear(),this.cleanup()}cleanup(){}attributeChangedCallback(J,Z,$){if(Z!==$&&this._rendered)this.update(J,$,Z)}render(){}update(J,Z,$){}setupEvents(){}attr(J,Z=""){return this.getAttribute(J)??Z}has(J){return this.hasAttribute(J)}emit(J,Z={}){this.dispatchEvent(new CustomEvent(J,{bubbles:!0,composed:!0,detail:Z}))}listen(J,Z,$,W={}){if(!this._abortController)this._abortController=new AbortController;let X={...W,signal:this._abortController.signal};J.addEventListener(Z,$,X)}setTimeout(J,Z){let $;return $=setTimeout(()=>{this._timers.delete($),J()},Z),this._timers.add($),$}setInterval(J,Z){let $=setInterval(J,Z);return this._intervals.add($),$}setupActivation(J){this.updateTabindex(),this.listen(this,"keydown",(Z)=>{if((Z.key==="Enter"||Z.key===" ")&&!this.has("disabled"))Z.preventDefault(),J()})}updateTabindex(){this.setAttribute("tabindex",this.has("disabled")?"-1":"0")}setDisplay(J){this.style.display=J}get isDisabled(){return this.has("disabled")}}function R(J,Z,$={}){if(customElements.get(J))return;let W=$.priority||"user-blocking";if(typeof scheduler<"u"&&scheduler.postTask)scheduler.postTask(()=>{if(!customElements.get(J))customElements.define(J,Z)},{priority:W});else customElements.define(J,Z)}var B=typeof window<"u"?window:globalThis,XJ=["ui:toast","ui:modal","ui:theme","ui:tabs","ui:dropdown","ui:form","ui:grid","ui:stack","ui:virtual-list"],QJ={type:"ui-framework",version:"0.1.116",description:"AI-Optimized UI Framework - Web Components Edition"};class g{#J=new Map;#Z=new Map;#$=new Set;#W=new Set;#X=100;#Q=!1;#q=Date.now();peerId;capabilities;meta;constructor(J={}){this.peerId=J.peerId??"default",this.capabilities=J.capabilities??[],this.meta=J.meta??{},this.#Q=J.debug??!1}on(J,Z){if(!this.#J.has(J))this.#J.set(J,new Set);let $=Z;this.#J.get(J).add($);let W=this.#J.get(J).size;if(W>this.#X)console.warn(`[AgentUI] Possible event leak: "${J}" has ${W} listeners (maxListeners: ${this.#X}). Use setMaxListeners() to increase.`);return{unsubscribe:()=>this.#J.get(J)?.delete($)}}off(J,Z){this.#J.get(J)?.delete(Z)}emitSync(J,Z){let $={event:J,data:Z};for(let X of this.#W)$=X($,{event:J})??$;let W=this.#J.get(J);if(W)for(let X of W){let Q=$;for(let q of this.#$)Q=q(Q,{event:J})??Q;X(Q)}for(let[X,Q]of this.#J)if(X.endsWith("*")&&J.startsWith(X.slice(0,-1))&&X!==J)for(let q of Q)q($)}async emit(J,Z){return this.emitSync(J,Z),{delivered:!0,event:J}}signal(J,Z){this.emitSync(J,Z)}hasListeners(J){return(this.#J.get(J)?.size??0)>0}handle(J,Z){return this.#Z.set(J,Z),{unsubscribe:()=>this.#Z.delete(J)}}unhandle(J){this.#Z.delete(J)}async request(J,Z,$){let W=this.#Z.get(Z);if(!W)throw Error(`No handler for '${Z}'`);return W($)}async broadcastRequest(J,Z){return this.request(this.peerId,J,Z)}addInboundHook(J){return this.#$.add(J),()=>this.#$.delete(J)}addOutboundHook(J){return this.#W.add(J),()=>this.#W.delete(J)}setMaxListeners(J){this.#X=J}get debug(){return this.#Q}get peers(){return[]}get peerCount(){return 0}healthCheck(){return{status:"healthy",peerId:this.peerId,uptime:Date.now()-this.#q,listeners:this.#J.size,handlers:this.#Z.size}}destroy(){this.#J.clear(),this.#Z.clear(),this.#$.clear(),this.#W.clear()}}if(!B.__AGENTUI_BUS__)B.__AGENTUI_BUS__=new g({peerId:"agentui",capabilities:XJ,meta:QJ});var H=B.__AGENTUI_BUS__,E="__AGENTUI_COMPONENT_REGISTRY__";if(!B[E])B[E]=new Map;var qJ=B[E],P={on(J,Z){let $=H.on(J,(W)=>{Z(W.data??W)});return()=>$.unsubscribe()},once(J,Z){let $=this.on(J,(W)=>{$(),Z(W)})},off(J,Z){H.off(J,Z)},emit(J,Z){return H.emitSync(J,Z)},async emitAsync(J,Z){return H.emit(J,Z)},signal(J,Z){H.signal(J,Z)},async request(J,Z,$){return H.request(J,Z,$)},async broadcastRequest(J,Z){return H.broadcastRequest(J,Z)},handle(J,Z){return H.handle(J,Z)},unhandle(J){H.unhandle(J)},destroy(){H.destroy()},setMaxListeners(J){H.setMaxListeners(J)},get peerId(){return H.peerId},get peers(){return H.peers},get peerCount(){return H.peerCount},hasListeners(J){return H.hasListeners(J)},get raw(){return H}},O={TOAST_SHOW:"ui:toast:show",TOAST_DISMISS:"ui:toast:dismiss",MODAL_OPEN:"ui:modal:open",MODAL_CLOSE:"ui:modal:close",THEME_CHANGE:"ui:theme:change",TAB_CHANGE:"ui:tab:change",DROPDOWN_SELECT:"ui:dropdown:select",FORM_SUBMIT:"ui:form:submit",FORM_VALIDATE:"ui:form:validate"},A=(J,Z={})=>{P.emit(O.TOAST_SHOW,{message:J,...Z})};var _=(J,Z)=>{qJ.set(J,{...Z,registeredAt:Date.now()})};function u(J,Z={}){let $=Z.persist?`agentui:${Z.persist}`:null,W={...J},X=new Map,Q=new Set,q=!1,G=new Map;if($)try{let K=typeof localStorage<"u"?localStorage.getItem($):null;if(K){let F=JSON.parse(K);if(F&&typeof F==="object"){for(let z of Object.keys(J))if(z in F)W[z]=F[z]}}}catch(K){}function Y(K,F,z){let j=X.get(K);if(j)for(let T of j)T(F,z);for(let T of Q)T(K,F,z)}function U(){if(!$)return;try{if(typeof localStorage<"u")localStorage.setItem($,JSON.stringify(W))}catch(K){}}let L=new Proxy(W,{get(K,F){return K[F]},set(K,F,z){let j=K[F];if(Object.is(j,z))return!0;if(K[F]=z,q){if(!G.has(F))G.set(F,{oldVal:j});G.get(F).newVal=z}else Y(F,z,j),U();return!0}});return{state:L,subscribe(K,F){if(K==="*")return Q.add(F),()=>Q.delete(F);if(!X.has(K))X.set(K,new Set);return X.get(K).add(F),()=>{let z=X.get(K);if(z){if(z.delete(F),z.size===0)X.delete(K)}}},batch(K){q=!0,G.clear();try{K()}finally{q=!1;for(let[F,{newVal:z,oldVal:j}]of G)if(!Object.is(z,j))Y(F,z,j);if(G.clear(),G.size===0)U()}},getState(){return{...W}},setState(K){for(let[F,z]of Object.entries(K))L[F]=z},destroy(){X.clear(),Q.clear()}}}var V=u({current:"light",preference:"auto"},{persist:"au-theme"}),x={set(J){if(J==="auto"){let Z=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",Z?"dark":"light")}else document.documentElement.setAttribute("data-theme",J);V.state.preference=J,V.state.current=document.documentElement.getAttribute("data-theme"),P.emit(O.THEME_CHANGE,{theme:J})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let J=this.get();this.set(J==="dark"?"light":"dark")},init(){let J=typeof localStorage<"u"?localStorage.getItem("au-theme"):null;if(J&&!V.state.preference){this.set(J);try{localStorage.removeItem("au-theme")}catch($){}return}let Z=V.state.preference;if(Z&&Z!=="auto")this.set(Z);else if(J){this.set(J);try{localStorage.removeItem("au-theme")}catch($){}}else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=($)=>{if(V.state.preference==="auto")document.documentElement.setAttribute("data-theme",$.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null},get _store(){return V}};if(typeof window<"u")x.init();function m(J,Z,$={}){let{color:W="currentColor",centered:X=!1}=$,Q=J.getBoundingClientRect(),q,G;if(X||!Z)q=Q.width/2,G=Q.height/2;else{let F=Z.touches?Z.touches[0].clientX:Z.clientX,z=Z.touches?Z.touches[0].clientY:Z.clientY;q=F-Q.left,G=z-Q.top}let Y=Math.max(Math.hypot(q,G),Math.hypot(Q.width-q,G),Math.hypot(q,Q.height-G),Math.hypot(Q.width-q,Q.height-G))*2,U=document.createElement("span");U.className="au-ripple-wave",U.style.cssText=`
        position: absolute;
        width: ${Y}px;
        height: ${Y}px;
        left: ${q-Y/2}px;
        top: ${G-Y/2}px;
        background: ${W};
        border-radius: 50%;
        transform: scale(0);
        opacity: 0.10;
        pointer-events: none;
    `;let L=getComputedStyle(J);if(L.position==="static")J.style.position="relative";if(L.overflow!=="hidden")J.style.overflow="hidden";J.appendChild(U),U.animate([{transform:"scale(0)"},{transform:"scale(1)"}],{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"});let K=()=>{U.animate([{opacity:"0.10"},{opacity:"0"}],{duration:150,easing:"ease-out",fill:"forwards"}).onfinish=()=>U.remove(),J.removeEventListener("pointerup",K),J.removeEventListener("pointerleave",K),J.removeEventListener("pointercancel",K)};return J.addEventListener("pointerup",K,{once:!0}),J.addEventListener("pointerleave",K,{once:!0}),J.addEventListener("pointercancel",K,{once:!0}),U}function p(J,Z={}){let $=(W)=>{if(J.hasAttribute("disabled"))return;m(J,W,Z)};return J.addEventListener("pointerdown",$),()=>{J.removeEventListener("pointerdown",$)}}var GJ=(J)=>class extends J{#J=null;initRipple(Z=this,$={}){this.#J=p(Z,$)}disconnectedCallback(){if(this.#J)this.#J(),this.#J=null;super.disconnectedCallback?.()}};var C="startViewTransition"in document;async function y(J){if(C)await document.startViewTransition(async()=>{await J()}).finished;else await J()}async function YJ(J,{name:Z="page"}={}){if(C){let $=document.createElement("style");$.textContent=`
            ::view-transition-old(${Z}),
            ::view-transition-new(${Z}) {
                animation-duration: 0.3s;
            }
        `,document.head.appendChild($),await y(J),$.remove()}else await J()}async function KJ(J,Z){await y(()=>{window.history.pushState({},"",J),Z()})}var f="scheduler"in globalThis;async function k(J,Z="user-visible"){if(f)return globalThis.scheduler.postTask(J,{priority:Z});let $=Z==="user-blocking"?0:Z==="user-visible"?0:1;return new Promise((W)=>{setTimeout(()=>W(J()),$)})}async function d(){if(f&&"yield"in globalThis.scheduler)return globalThis.scheduler.yield();return new Promise((J)=>setTimeout(J,0))}async function FJ(J,Z,$=50){for(let W=0;W<J.length;W++)if(Z(J[W],W),(W+1)%$===0)await d()}function zJ(J){return k(J,"background")}function DJ(J){return k(J,"user-blocking")}function c(){return new Promise((J)=>{requestAnimationFrame(()=>requestAnimationFrame(J))})}class r{#J=[];#Z=!1;schedule(J){if(this.#J.push(J),!this.#Z)this.#Z=!0,requestAnimationFrame(()=>this.#$())}#$(){let J=this.#J.slice();this.#J=[],this.#Z=!1;for(let Z of J)try{Z()}catch($){console.error("[RenderScheduler] Error:",$)}}}var OJ=new r;function HJ(J,Z={}){let $=Z.keyFn??JSON.stringify,W=Z.maxSize??1/0,X=new Map;return(...Q)=>{let q=$(Q);if(X.has(q))return X.get(q);let G=J(...Q);if(X.size>=W){let Y=X.keys().next().value;X.delete(Y)}return X.set(q,G),G}}function UJ(J,Z=100){let $=null;return(...W)=>{if($)clearTimeout($);$=setTimeout(()=>J(...W),Z)}}function PJ(J,Z=100){let $=!1;return(...W)=>{if(!$)J(...W),$=!0,setTimeout(()=>$=!1,Z)}}function RJ(J,Z={}){let $=new IntersectionObserver((W)=>{for(let X of W)if(X.isIntersecting)J(X.target),$.unobserve(X.target)},{rootMargin:"100px",threshold:0,...Z});return{observe:(W)=>$.observe(W),disconnect:()=>$.disconnect()}}class i{#J=[];#Z=[];#$=!1;read(J){this.#J.push(J),this.#W()}write(J){this.#Z.push(J),this.#W()}#W(){if(!this.#$)this.#$=!0,requestAnimationFrame(()=>this.#X())}#X(){let J;while(J=this.#J.shift())try{J()}catch(Z){console.error(Z)}while(J=this.#Z.shift())try{J()}catch(Z){console.error(Z)}if(this.#$=!1,this.#J.length||this.#Z.length)this.#W()}}var jJ=new i;async function LJ(J,Z,$=100){for(let W=0;W<J.length;W+=$){let X=J.slice(W,W+$);for(let Q=0;Q<X.length;Q++)Z(X[Q],W+Q);await new Promise((Q)=>setTimeout(Q,0))}}function o(J){if(J==null)return"";return String(J).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}class I extends String{constructor(J){super(J==null?"":J)}}function S(J){return new I(J)}function N(J,...Z){let $="";for(let W=0;W<J.length;W++)if($+=J[W],W<Z.length){let X=Z[W];if(X instanceof I)$+=X;else if(Array.isArray(X))for(let Q of X)if(Q instanceof I)$+=Q;else $+=o(Q);else $+=o(X)}return new I($)}class v extends D{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>x.toggle()),P.on(O.THEME_CHANGE,()=>this.#J())}render(){this.innerHTML=N`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#J()}#J(){let J=x.get()==="dark",Z=this.querySelector(".au-theme-toggle__icon");if(Z)Z.textContent=J?"☀️":"\uD83C\uDF19"}}R("au-theme-toggle",v);_("au-theme-toggle",{signals:[O.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});class s extends D{static baseClass="au-toast";static cssFile=null;static observedAttributes=["severity","duration","position"];#J=null;#Z=null;connectedCallback(){if(!this.#Z&&!this.querySelector(".au-toast__content"))this.#Z=this.innerHTML;super.connectedCallback(),this.listen(this,"click",(Z)=>{if(Z.target.classList.contains("au-toast__close"))this.dismiss()});let J=parseInt(this.attr("duration","3000"));if(J>0)this.#J=this.setTimeout(()=>this.dismiss(),J)}disconnectedCallback(){super.disconnectedCallback()}render(){if(this.querySelector(".au-toast__content")){this.#$();return}let J=this.#Z||"";this.innerHTML=N`
            <span class="au-toast__content">${S(J)}</span>
            <button class="au-toast__close" aria-label="Dismiss">✕</button>
        `,this.#$()}update(J,Z,$){this.#$()}#$(){let J=this.attr("severity","info"),Z=this.attr("position","bottom-center"),$=["au-toast",`au-toast--${J}`,`au-toast--${Z}`];$.forEach((W)=>this.classList.add(W)),Array.from(this.classList).forEach((W)=>{if(W.startsWith("au-toast--")&&!$.includes(W))this.classList.remove(W)})}dismiss(){this.emit("au-dismiss"),this.classList.add("is-exiting");let J=!1,Z=()=>{if(!J)J=!0,this.remove()};this.addEventListener("animationend",Z,{once:!0}),this.setTimeout(Z,200)}}R("au-toast",s);class n extends D{static baseClass="au-toast-container";connectedCallback(){super.connectedCallback(),this.setAttribute("role","status"),this.setAttribute("aria-live","polite")}}R("au-toast-container",n);var h={show(J,Z={}){let $=Z.position||"bottom-center",W=document.querySelector(`au-toast-container[position="${$}"]`);if(!W)W=document.createElement("au-toast-container"),W.setAttribute("position",$),document.body.appendChild(W);let X=document.createElement("au-toast");if(X.textContent=J,Z.severity)X.setAttribute("severity",Z.severity);if(Z.duration)X.setAttribute("duration",Z.duration.toString());return W.appendChild(X),X}};if(typeof window<"u"&&P&&!P.hasListeners(O.TOAST_SHOW))P.on(O.TOAST_SHOW,(J)=>{h.show(J.message,J)});_("au-toast",{signals:[O.TOAST_SHOW,O.TOAST_DISMISS],options:{severities:["info","success","warning","error"],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],defaultDuration:3000},description:"MD3 Snackbar/Toast Notification component"});class M extends D{static baseClass="au-modal";static cssFile="overlays";static observedAttributes=["open","size"];#J=null;connectedCallback(){if(!this.hasAttribute("data-rendered"))this._userContent=this.innerHTML,this.setAttribute("data-rendered","true");super.connectedCallback(),this.#Z()}render(){if(this.querySelector("dialog"))return;let J=this.attr("size","md"),Z=this._userContent||"";this.innerHTML=N`
            <dialog class="au-modal__dialog au-modal--${J}">
                <button class="au-modal__close" aria-label="Close">✕</button>
                <div class="au-modal__body">${S(Z)}</div>
            </dialog>
        `,this.#J=this.querySelector("dialog")}#Z(){if(this.#J=this.querySelector("dialog"),!this.#J)return;this.listen(this.#J,"close",()=>{this.removeAttribute("open"),this.classList.remove("is-open","is-visible"),document.body.style.overflow="",this.emit("au-close")}),this.listen(this.#J,"cancel",(Z)=>{Z.preventDefault(),this.close()}),this.listen(this.#J,"click",(Z)=>{if(Z.target===this.#J)this.close()});let J=this.querySelector(".au-modal__close");if(J)this.listen(J,"click",()=>{this.close()})}update(J,Z,$){if(J==="open"){if(Z!==null)this.#$()}}#$(){if(!this.#J||this.#J.open)return;this.classList.add("is-open"),this.#J.showModal(),document.body.style.overflow="hidden",this.emit("au-open"),c().then(()=>this.classList.add("is-visible"))}open(){this.setAttribute("open","")}close(){if(!this.#J)return;this.classList.remove("is-visible");let J=!1,Z=()=>{if(J)return;if(J=!0,this.#J&&this.#J.open)this.#J.close();this.removeAttribute("open"),this.classList.remove("is-open"),document.body.style.overflow="",this.emit("au-close")},$=this.#J,W=(X)=>{if(X.target===$)$.removeEventListener("transitionend",W),Z()};$.addEventListener("transitionend",W),this.setTimeout(()=>{$.removeEventListener("transitionend",W),Z()},200)}}R("au-modal",M);var w=null;async function l(J,Z={}){let{title:$="Confirm",confirmText:W="Confirm",cancelText:X="Cancel",variant:Q="primary"}=Z;if(w)w.remove();return new Promise((q)=>{let G=document.createElement("au-confirm");G.setAttribute("title",$),G.setAttribute("message",J),G.setAttribute("confirm-text",W),G.setAttribute("cancel-text",X),G.setAttribute("variant",Q),G.addEventListener("au-confirm",()=>{G.remove(),w=null,q(!0)}),G.addEventListener("au-cancel",()=>{G.remove(),w=null,q(!1)}),w=G,document.body.appendChild(G),G.open()})}class a extends M{static baseClass="au-confirm";static cssFile="overlays";static observedAttributes=["title","message","confirm-text","cancel-text","variant","open","size"];#J=null;connectedCallback(){if(!this.hasAttribute("data-rendered"))this.setAttribute("data-rendered","true");Object.getPrototypeOf(M.prototype).connectedCallback.call(this)}render(){if(this.querySelector("dialog")){this.#J=this.querySelector("dialog"),this.#Z();return}let J=this.attr("title","Confirm"),Z=this.attr("message","Are you sure?"),$=this.attr("confirm-text","Confirm"),W=this.attr("cancel-text","Cancel"),Q=this.attr("variant","primary")==="danger"?"danger":"filled";this.innerHTML=N`
            <dialog class="au-confirm__dialog">
                <h3 class="au-confirm__title">${J}</h3>
                <p class="au-confirm__message">${Z}</p>
                <div class="au-confirm__actions">
                    <au-button variant="text" data-action="cancel">${W}</au-button>
                    <au-button variant="${Q}" data-action="confirm">${$}</au-button>
                </div>
            </dialog>
        `,this.#J=this.querySelector("dialog"),this.#Z()}handleAction(J,Z,$){if(J==="cancel")this.cancel();else if(J==="confirm")this.confirm()}#Z(){if(this.#J=this.querySelector("dialog"),!this.#J)return;this.listen(this.#J,"close",()=>{this.removeAttribute("open"),this.classList.remove("is-open","is-visible"),document.body.style.overflow=""}),this.listen(this.#J,"cancel",(J)=>{J.preventDefault(),this.cancel()}),this.listen(this.#J,"click",(J)=>{if(J.target===this.#J)this.cancel()})}update(J,Z,$){if(J==="open"){if(Z!==null)this.#$()}}#$(){if(!this.#J||this.#J.open)return;this.classList.add("is-open"),this.#J.showModal(),document.body.style.overflow="hidden";let J=this.querySelector('[data-action="confirm"]');if(J)requestAnimationFrame(()=>{requestAnimationFrame(()=>J.focus())});requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.classList.add("is-visible")})})}open(){this.setAttribute("open","")}close(){if(!this.#J)return;this.classList.remove("is-visible");let J=!1,Z=()=>{if(J)return;if(J=!0,this.#J&&this.#J.open)this.#J.close();this.removeAttribute("open"),this.classList.remove("is-open"),document.body.style.overflow=""},$=this.#J,W=(X)=>{if(X.target===$)$.removeEventListener("transitionend",W),Z()};$.addEventListener("transitionend",W),this.setTimeout(()=>{$.removeEventListener("transitionend",W),Z()},200)}confirm(){this.close(),this.emit("au-confirm")}cancel(){this.close(),this.emit("au-cancel")}}R("au-confirm",a);function t(J){let Z=J.getAttribute("aria-labelledby");if(Z){let Y=Z.split(" ").map((U)=>document.getElementById(U)?.textContent).filter(Boolean).join(" ");if(Y)return Y}let $=J.getAttribute("aria-label");if($)return $;if(J.id){let Y=document.querySelector(`label[for="${J.id}"]`);if(Y)return Y.textContent.trim()}let W=J.getAttribute("title");if(W)return W;let X=J.getAttribute("role")||J.tagName.toLowerCase();if(["button","link","tab","menuitem","option","radio","checkbox"].some((Y)=>X.includes(Y))){let Y=J.textContent?.trim();if(Y&&Y.length<100)return Y}let q=J.getAttribute("placeholder");if(q)return q;let G=J.getAttribute("value");if(G&&J.tagName.includes("INPUT"))return`Input: ${G}`;return J.tagName.toLowerCase().replace("au-","")}function NJ(J){let Z=[],$=J.tagName.toLowerCase();if(J.hasAttribute("disabled"))return["none (disabled)"];if(J.onclick||J.hasAttribute("onclick"))Z.push("click");switch($){case"au-button":Z.push("click");break;case"au-checkbox":case"au-switch":Z.push("toggle","check","uncheck");break;case"au-input":case"au-textarea":Z.push("type","clear","focus");break;case"au-dropdown":Z.push("open","select","close");break;case"au-modal":Z.push("open","close");break;case"au-tabs":Z.push("select-tab");break;case"au-radio":Z.push("select");break;case"au-chip":Z.push("toggle","click");break;case"au-confirm":Z.push("confirm","cancel");break;default:if(J.classList.contains("au-button")||J.getAttribute("role")==="button")Z.push("click")}return Z.length?Z:["focus"]}function e(J){let Z={},$=J.tagName.toLowerCase();if(J.hasAttribute("checked"))Z.checked=!0;if(J.hasAttribute("disabled"))Z.disabled=!0;if(J.hasAttribute("open"))Z.open=!0;if(J.hasAttribute("selected"))Z.selected=!0;if(J.hasAttribute("active"))Z.active=!0;if(J.hasAttribute("loading"))Z.loading=!0;if(J.hasAttribute("value"))Z.value=J.getAttribute("value");let W=J.getAttribute("aria-checked");if(W)Z.ariaChecked=W==="true";let X=J.getAttribute("aria-expanded");if(X)Z.expanded=X==="true";let Q=J.getAttribute("aria-selected");if(Q)Z.selected=Q==="true";switch($){case"au-input":case"au-textarea":let q=J.querySelector("input, textarea");if(q)Z.value=q.value,Z.placeholder=q.placeholder;break;case"au-progress":Z.value=parseFloat(J.getAttribute("value")||"0"),Z.max=parseFloat(J.getAttribute("max")||"100"),Z.percentage=Z.value/Z.max*100;break;case"au-dropdown":Z.value=J.getAttribute("value"),Z.open=J.classList.contains("is-open");break}return Z}function JJ(J){let Z=J.tagName.toLowerCase().replace("au-",""),$=t(J),W=e(J),X=W.disabled?" (disabled)":"",q={button:()=>`Button "${$}"${X}. ${W.loading?"Currently loading.":"Click to activate."}`,checkbox:()=>`Checkbox "${$}"${X}. Currently ${W.ariaChecked||W.checked?"checked":"unchecked"}.`,switch:()=>`Toggle switch "${$}"${X}. Currently ${W.ariaChecked||W.checked?"on":"off"}.`,input:()=>`Text input "${$}"${X}. ${W.value?`Current value: "${W.value}"`:"Empty."} ${W.placeholder?`Placeholder: "${W.placeholder}"`:""}`,textarea:()=>`Text area "${$}"${X}. ${W.value?`Contains: "${W.value.slice(0,50)}${W.value.length>50?"...":""}"`:"Empty."}`,dropdown:()=>`Dropdown "${$}"${X}. ${W.value?`Selected: "${W.value}"`:"No selection."} ${W.open?"Menu is open.":"Menu is closed."}`,modal:()=>`Modal dialog${W.open?" (currently open)":" (currently closed)"}. ${$!=="modal"?`Title: "${$}"`:""}`,tabs:()=>`Tab navigation with ${J.querySelectorAll("au-tab").length} tabs.`,tab:()=>`Tab "${$}". ${W.active?"Currently active.":"Inactive."}`,progress:()=>`Progress bar at ${Math.round(W.percentage||0)}%.`,spinner:()=>"Loading spinner indicating operation in progress.",alert:()=>`Alert message: "${J.textContent?.trim().slice(0,100)||$}"`,card:()=>`Card container${$!=="card"?` titled "${$}"`:""}.`,chip:()=>`Chip "${$}"${X}. ${W.selected?"Selected.":"Not selected."}`,badge:()=>`Badge showing "${J.textContent?.trim()||"notification"}"`,avatar:()=>`User avatar${J.getAttribute("name")?` for "${J.getAttribute("name")}"`:""}`,icon:()=>`Icon: ${J.getAttribute("name")||"decorative"}`,confirm:()=>`Confirmation dialog. ${W.open?"Waiting for user response.":"Hidden."}`,fetch:()=>`Data fetcher${W.loading?" (loading)":""}. URL: ${J.getAttribute("url")||"not set"}`}[Z];if(q)return q();return`${Z} component${$?` "${$}"`:""}${X}.`}function xJ(J){let Z=J.getBoundingClientRect();return Z.top<window.innerHeight&&Z.bottom>0&&Z.left<window.innerWidth&&Z.right>0&&Z.width>0&&Z.height>0}function b(J=document.body,Z={}){let{visibleOnly:$=!1,interactiveOnly:W=!1,types:X=null}=Z,Q;if(X)Q=J.querySelectorAll(X.join(","));else Q=Array.from(J.querySelectorAll("*")).filter((Y)=>Y.tagName.toLowerCase().startsWith("au-")&&Y.tagName.toLowerCase()!=="au-ripple-wave");let q=[],G=new Set(["au-button","au-checkbox","au-switch","au-input","au-textarea","au-dropdown","au-radio","au-tab","au-chip","au-modal","au-confirm"]);for(let Y of Q){let U=Y.tagName.toLowerCase(),L=G.has(U),K=xJ(Y);if($&&!K)continue;if(W&&!L)continue;let F=Y.getBoundingClientRect();q.push({tag:U,id:Y.id||null,label:t(Y),description:JJ(Y),state:e(Y),actions:NJ(Y),rect:{top:Math.round(F.top),left:Math.round(F.left),width:Math.round(F.width),height:Math.round(F.height)},interactive:L,visible:K})}return q}function ZJ(J){let Z=typeof J==="string"?document.querySelector(J):J;if(!Z)return null;return JJ(Z)}function $J(){let J=new Map,Z=["au-button","au-input","au-textarea","au-checkbox","au-switch","au-dropdown","au-option","au-radio","au-radio-group","au-chip","au-card","au-tabs","au-tab","au-alert","au-badge","au-progress","au-avatar","au-skeleton","au-spinner","au-modal","au-toast","au-tooltip","au-icon","au-stack","au-grid","au-container","au-navbar","au-sidebar","au-divider","au-theme-toggle","au-virtual-list","au-lazy","au-repeat","au-form","au-table","au-confirm","au-fetch"];for(let $ of Z){let W=customElements.get($);if(W)J.set($,W)}return J}function WJ(J,Z=document.body){let $=J.toLowerCase();return b(Z).filter((X)=>X.label.toLowerCase().includes($)).map((X)=>{let Q=X.id?`#${X.id}`:`${X.tag}`;return Z.querySelector(Q)}).filter(Boolean)}if(!P.hasListeners(O.TOAST_SHOW))P.on(O.TOAST_SHOW,(J)=>{h.show(J.message,J)});if(typeof window<"u"&&!window.AgentUI){window.AgentUI={Theme:x,bus:P,UIEvents:O,showToast:A,getAuComponentTree:b,describeComponent:ZJ,findByLabel:WJ,getRegisteredComponents:$J,auConfirm:l,ready:!1,async discoverAll(){if(!D._describeCatalog)await this.loadDescriptions();let Z={},$=["au-button","au-input","au-textarea","au-card","au-modal","au-alert","au-toast","au-checkbox","au-switch","au-radio","au-dropdown","au-tabs","au-tab","au-chip","au-badge","au-avatar","au-progress","au-spinner","au-skeleton","au-tooltip","au-table","au-datatable","au-form","au-stack","au-grid","au-container","au-divider","au-drawer","au-sidebar","au-navbar","au-bottom-nav","au-layout","au-router","au-page","au-theme-toggle","au-splash","au-virtual-list","au-lazy","au-repeat","au-fetch","au-confirm","au-schema-form","au-prompt-ui","au-error-boundary","au-code","au-callout","au-icon","au-api-table","au-example","au-doc-page"];for(let W of $){let X=customElements.get(W);if(X?.describe)Z[W]=X.describe()}return Z},async loadDescriptions(){if(D._describeCatalog)return;let Z=document.querySelectorAll("script[src]"),$="";for(let X of Z)if(X.src.includes("agentui")||X.src.includes("chunks")){if($=X.src.substring(0,X.src.lastIndexOf("/")+1),$.includes("/chunks/"))$=$.replace("/chunks/","/");break}let W=$+"describe-catalog.json";try{let X=await fetch(W);if(X.ok)D._describeCatalog=await X.json()}catch(X){if(window.AGENTUI_DEBUG)console.warn("[AgentUI] Could not load describe catalog from",W)}}};let J=()=>{if(window.AGENTUI_DEBUG)console.log("[AgentUI] All components registered, emitting au-ready");window.AgentUI.ready=!0,document.dispatchEvent(new CustomEvent("au-ready",{detail:{timestamp:Date.now()}}))};if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",J,{once:!0});else setTimeout(J,0)}export{d as yieldToMain,YJ as transitionNamed,y as transition,PJ as throttle,C as supportsViewTransitions,f as supportsScheduler,A as showToast,OJ as scheduler,k as scheduleTask,DJ as runImmediate,zJ as runBackground,FJ as processWithYield,LJ as processInChunks,KJ as navigateWithTransition,HJ as memo,jJ as domBatch,R as define,UJ as debounce,RJ as createVisibilityObserver,m as createRipple,P as bus,p as attachRipple,O as UIEvents,x as Theme,GJ as RippleMixin,v as AuThemeToggle,D as AuElement};
