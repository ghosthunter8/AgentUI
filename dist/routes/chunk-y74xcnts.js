import{j as h,k as _,m as g,n as y}from"./chunk-eqmf7npt.js";class p extends h{static baseClass="au-code";static observedAttributes=["language"];static#e=null;static#r(s){if(typeof document>"u")return s;if(!p.#e)p.#e=document.createElement("div");p.#e.innerHTML=s;let a=p.#e.textContent;return p.#e.innerHTML="",a}#t=null;connectedCallback(){if(super.connectedCallback(),!this.#t&&!this.querySelector(".au-code__content"))this.#t=this.textContent}render(){if(this.querySelector(".au-code__content"))return;let s=this.attr("language","html"),a=this.#t||this.innerHTML,o=p.#r(a),r=this.#s(o),c=this.#l(r,s),e=c,t=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=this.#o(t,s),i=this.#a(l);this.innerHTML=y`<div class="au-code__header"> <span class="au-code__language">${s.toUpperCase()}</span> <button class="au-code__copy" title="Copy code"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/> <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/> </svg> </button> </div> <pre class="au-code__pre"><code class="au-code__content">${g(i)}</code></pre>`,this.#c(),this.#i(e)}#a(s){return s.replace(/<(\/?)([^>]*)>/g,(a,o,r)=>{if(o==="/"&&r.trim()==="span")return a;if(!o&&/^span\s+class="au-code__[a-z]+"$/.test(r.trim()))return a;return a.replace(/</g,"&lt;").replace(/>/g,"&gt;")})}#o(s,a){let o=()=>{let r=[],c=0;return{addMarker:(e,t)=>{let l=c++,i=String.fromCharCode(57600+l),d=String.fromCharCode(57344),m=String.fromCharCode(57345),u=d+i+m;return r.push({marker:u,content:e,className:t}),u},resolveMarkers:(e)=>{for(let{marker:t,content:l,className:i}of r)e=e.replace(t,`<span class="${i}">${l}</span>`);return e}}};if(a==="html"||a==="xml"){let{addMarker:r,resolveMarkers:c}=o(),e=s;return e=e.replace(/(&lt;!--[\s\S]*?--&gt;)/g,(t)=>r(t,"au-code__comment")),e=e.replace(/(&lt;!DOCTYPE[^&]*&gt;)/gi,(t)=>r(t,"au-code__keyword")),e=e.replace(/("[^"]*")/g,(t)=>r(t,"au-code__string")),e=e.replace(/(\s)([\w-]+)(=)/g,(t,l,i,d)=>`${l}${r(i,"au-code__attr")}${d}`),e=e.replace(/(&lt;\/?)([\w-]+)/g,(t,l,i)=>`${l}${r(i,"au-code__tag")}`),c(e)}if(a==="javascript"||a==="js"||a==="typescript"||a==="ts"){let{addMarker:r,resolveMarkers:c}=o(),e=s;return e=e.replace(/(\/\*[\s\S]*?\*\/)/g,(t)=>r(t,"au-code__comment")),e=e.replace(/(\/\/.*)/g,(t)=>r(t,"au-code__comment")),e=e.replace(/(`[^`]*`)/g,(t)=>r(t,"au-code__string")),e=e.replace(/('[^']*'|"[^"]*")/g,(t)=>r(t,"au-code__string")),e=e.replace(/\b(\d+\.?\d*(?:e[+-]?\d+)?)\b/gi,(t)=>r(t,"au-code__number")),e=e.replace(/\b(const|let|var|function|return|if|else|for|while|do|switch|case|break|continue|class|extends|import|export|from|default|async|await|new|this|super|typeof|instanceof|in|of|try|catch|finally|throw|yield|static|get|set)\b/g,(t)=>r(t,"au-code__keyword")),e=e.replace(/\b(true|false|null|undefined|NaN|Infinity)\b/g,(t)=>r(t,"au-code__builtin")),e=e.replace(/\b([a-zA-Z_]\w*)\s*(?=\()/g,(t,l)=>r(l,"au-code__function")),c(e)}if(a==="css"||a==="scss"||a==="sass"){let{addMarker:r,resolveMarkers:c}=o(),e=s;return e=e.replace(/(\/\*[\s\S]*?\*\/)/g,(t)=>r(t,"au-code__comment")),e=e.replace(/('[^']*'|"[^"]*")/g,(t)=>r(t,"au-code__string")),e=e.replace(/(@[\w-]+)/g,(t)=>r(t,"au-code__keyword")),e=e.replace(/\b(\d+\.?\d*)(px|em|rem|%|vh|vw|s|ms|deg|fr)\b/g,(t,l,i)=>`${r(l,"au-code__number")}${r(i,"au-code__builtin")}`),e=e.replace(/\b(\d+\.?\d*)\b/g,(t)=>r(t,"au-code__number")),e=e.replace(/(#[0-9a-fA-F]{3,8})\b/g,(t)=>r(t,"au-code__string")),e=e.replace(/\b([\w-]+)\s*:/g,(t,l)=>`${r(l,"au-code__attr")}:`),e=e.replace(/(^|[{,\s])([.#]?[\w-]+)(?=\s*[{,])/gm,(t,l,i)=>`${l}${r(i,"au-code__tag")}`),c(e)}if(a==="json"){let{addMarker:r,resolveMarkers:c}=o(),e=s;return e=e.replace(/("[^"]*")\s*:/g,(t,l)=>`${r(l,"au-code__attr")}:`),e=e.replace(/:\s*("[^"]*")/g,(t,l)=>`: ${r(l,"au-code__string")}`),e=e.replace(/:\s*(-?\d+\.?\d*)/g,(t,l)=>`: ${r(l,"au-code__number")}`),e=e.replace(/\b(true|false|null)\b/g,(t)=>r(t,"au-code__builtin")),c(e)}if(a==="bash"||a==="sh"||a==="shell"){let{addMarker:r,resolveMarkers:c}=o(),e=s;return e=e.replace(/(#.*)/g,(t)=>r(t,"au-code__comment")),e=e.replace(/('[^']*'|"[^"]*")/g,(t)=>r(t,"au-code__string")),e=e.replace(/(\$\{?\w+\}?)/g,(t)=>r(t,"au-code__attr")),e=e.replace(/\b(cd|ls|echo|cat|grep|find|sudo|npm|npx|bun|node|git|curl|wget|mkdir|rm|cp|mv|chmod|chown)\b/g,(t)=>r(t,"au-code__keyword")),e=e.replace(/(\s)(--?[\w-]+)/g,(t,l,i)=>`${l}${r(i,"au-code__builtin")}`),c(e)}return s}#s(s){let a=s.split(`
`);while(a.length>0&&a[0].trim()==="")a.shift();while(a.length>0&&a[a.length-1].trim()==="")a.pop();if(a.length===0)return"";let o=1/0;for(let r of a){if(r.trim()==="")continue;let c=r.match(/^(\s*)/),e=c?c[1].length:0;o=Math.min(o,e)}if(o===1/0||o===0)return a.join(`
`);return a.map((r)=>{if(r.trim()==="")return"";return r.slice(o)}).join(`
`)}#l(s,a){let o=s.split(`
`),r=[],c=0;for(let e=0;e<o.length;e++){let t=o[e].trim();if(t===""){r.push("");continue}let l=0,i=0;if(a==="html"){let d=(t.match(/<[a-zA-Z][^>]*(?<!\/)\s*>/g)||[]).length,m=(t.match(/<\/[^>]+>/g)||[]).length,u=(t.match(/<[^>]+\/>/g)||[]).length;l=d-u,i=m}else{let d=!1,m="";for(let u=0;u<t.length;u++){let n=t[u],f=u>0?t[u-1]:"";if((n==='"'||n==="'"||n==="`")&&f!=="\\"){if(!d)d=!0,m=n;else if(n===m)d=!1}if(!d){if(n==="{"||n==="["||n==="(")l++;if(n==="}"||n==="]"||n===")")i++}}}if((a==="html"?t.startsWith("</"):/^[}\]\)]/.test(t))&&i>0)c=Math.max(0,c-1),i--;r.push("    ".repeat(c)+t),c=Math.max(0,c+l-i)}return r.join(`
`)}#c(){if(this.style.display="block",this.style.background="var(--md-sys-color-surface-container-highest)",this.closest("au-example"))this.style.borderTopLeftRadius="0",this.style.borderTopRightRadius="0",this.style.borderBottomLeftRadius="var(--md-sys-shape-corner-medium)",this.style.borderBottomRightRadius="var(--md-sys-shape-corner-medium)";else this.style.borderRadius="var(--md-sys-shape-corner-medium)";this.style.overflow="hidden",this.style.fontFamily="'Fira Code', 'Consolas', monospace",this.style.fontSize="13px";let s=this.querySelector(".au-code__header");if(s)s.style.display="flex",s.style.justifyContent="space-between",s.style.alignItems="center",s.style.padding="8px 16px",s.style.background="var(--md-sys-color-surface-container)",s.style.borderBottom="1px solid var(--md-sys-color-outline-variant)";let a=this.querySelector(".au-code__language");if(a)a.style.fontSize="11px",a.style.fontWeight="600",a.style.color="var(--md-sys-color-primary)",a.style.letterSpacing="0.5px";let o=this.querySelector(".au-code__copy");if(o)o.style.background="transparent",o.style.border="none",o.style.cursor="pointer",o.style.color="var(--md-sys-color-on-surface-variant)",o.style.padding="4px",o.style.borderRadius="4px",o.style.display="flex",o.style.transition="all 0.2s ease";let r=this.querySelector(".au-code__pre");if(r)r.style.margin="0",r.style.padding="16px",r.style.overflow="auto",r.style.maxHeight="400px";let c=this.querySelector(".au-code__content");if(c)c.style.color="var(--md-sys-color-on-surface)";if(!p._stylesInjected){p._stylesInjected=!0;let e=document.createElement("style");e.id="au-code-styles",e.textContent=`.au-code__tag { color: var(--md-sys-color-primary); } .au-code__attr { color: var(--md-sys-color-tertiary); } .au-code__string { color: var(--md-sys-color-secondary); } .au-code__keyword { color: var(--md-sys-color-primary); font-weight: 500; } .au-code__comment { color: var(--md-sys-color-outline); font-style: italic; } .au-code__number { color: var(--md-sys-color-error); } .au-code__function { color: var(--md-sys-color-tertiary); } .au-code__builtin { color: var(--md-sys-color-primary); font-weight: 500; } .au-code__copy:hover { background: var(--md-sys-color-primary-container) !important; color: var(--md-sys-color-on-primary-container) !important; } .au-code__copy:active { background: var(--md-sys-color-primary) !important; color: var(--md-sys-color-on-primary) !important; transform: scale(0.95); } .au-code__copy.copied { background: #c8e6c9 !important; color: #1b5e20 !important; }`,document.head.appendChild(e)}}#i(s){let a=this.querySelector(".au-code__copy");if(a)this.listen(a,"click",async()=>{try{await navigator.clipboard.writeText(s.trim()),a.classList.add("copied"),a.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"/> </svg>`,this.setTimeout(()=>{a.classList.remove("copied"),a.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/> <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/> </svg>`},2000)}catch(o){console.error("Copy failed:",o)}})}}_("au-code",p);
